{"version":3,"sources":["webpack:///./client/components/FacebookLogin.js","webpack:///./client/components/GoogleLogin.js","webpack:///./client/components/Loader.js","webpack:///./client/pages/LoginPage.js","webpack:///./client/shared/TextError.js"],"names":["props","onFBResponse","renderProps","onClick","onGoogleResponse","color","loginSchema","Yup","email","required","password","min","forgotSchema","loginFormInitialValues","forgotFormInitialValues","verifyLink","resetLink","profileSettings","LoginPage","commonData","useSelector","state","ui","dispatch","useDispatch","useEffect","loadCommonData","useState","showLoader","setShowLoader","type","message","errorMessage","setErrorMessage","formType","setFormType","closeModal","setLoginModalVisibility","showRegisterModal","setRegisterModalVisibility","onSubmitHandler","values","onSubmitProps","signinUser","body","onSuccess","res","emailVerified","data","click","history","replace","onError","err","response","onEnd","onPasswordReset","requestPasswordReset","storage","store","signinWithFacebookHandler","facebookRes","accessToken","userID","signinWithFacebook","console","log","user","phoneNumber","error","signinWithGoogleHandler","googleRes","googleId","signinWithGoogle","renderLoader","renderLoginForm","TextError","renderForgotPassForm","ref","height","backgroundImage","loginModalImage","children"],"mappings":"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","file":"pages-LoginPage.8071289a5969fc5cbb04.js","sourcesContent":["import React from \"react\";\r\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\r\n\r\nexport default (props) => {\r\n  const { onFBResponse = () => {} } = props;\r\n\r\n  return (\r\n    <FacebookLogin\r\n      appId=\"404150057463766\"\r\n      fields=\"name,email,picture\"\r\n      callback={onFBResponse}\r\n      render={(renderProps) => (\r\n        <a onClick={renderProps.onClick}>\r\n          <i className=\"fab fa-facebook-f\"></i>\r\n        </a>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\n// appId=\"806610436211447\"\r\n//         autoLoad={true}\r\n//         fields=\"name,email,picture\"\r\n//         onClick={componentClicked}\r\n//         callback={responseFacebook}\r\n","import React from \"react\";\r\nimport GoogleLogin from \"react-google-login\";\r\n\r\nexport default (props) => {\r\n  const { onGoogleResponse = () => {} } = props;\r\n  return (\r\n    <GoogleLogin\r\n      clientId=\"937232182872-bpaepcabl7qvvuonp0bvvr22n9k533th.apps.googleusercontent.com\"\r\n      onSuccess={onGoogleResponse}\r\n      // onFailure={onGoogleResponse}\r\n      render={(renderProps) => (\r\n        <a href=\"#\" onClick={renderProps.onClick}>\r\n          <i className=\"fab fa-google-plus-g\"></i>\r\n        </a>\r\n      )}\r\n      //   cookiePolicy={\"single_host_origin\"}\r\n    />\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport BounceLoader from \"react-spinners/BounceLoader\";\r\n\r\nexport default (props) => {\r\n  const { color = \"#00acf0\" } = props;\r\n  return <BounceLoader color={color} />;\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Modal, Row, Col } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport TextError from \"../shared/TextError\";\r\nimport Loader from \"../components/Loader\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport FacebookLogin from \"../components/FacebookLogin\";\r\nimport GoogleLogin from \"../components/GoogleLogin\";\r\n\r\nimport storage from \"../services/storage\";\r\n\r\n//redux actions\r\nimport { setLoginModalVisibility } from \"../store/ui/loginModal\";\r\nimport { setRegisterModalVisibility } from \"../store/ui/registerModal\";\r\nimport {\r\n  signinUser,\r\n  requestPasswordReset,\r\n  signinWithGoogle,\r\n  signinWithFacebook,\r\n} from \"../store/api/auth\";\r\nimport { loadCommonData } from \"../store/api/commonData\";\r\n//global data for module\r\nconst loginSchema = Yup.object({\r\n  email: Yup.string().email(\"Email is not valid.\").required(\"Enter your email\"),\r\n  password: Yup.string()\r\n    .required(\"Enter your password.\")\r\n    .min(5, \"Password is too short - should be 5 chars minimum\"),\r\n});\r\n\r\nconst forgotSchema = Yup.object({\r\n  email: Yup.string().email(\"Email is not valid.\").required(\"Enter your email\"),\r\n});\r\n\r\nconst loginFormInitialValues = {\r\n  email: \"\",\r\n  password: \"\",\r\n};\r\n\r\nconst forgotFormInitialValues = {\r\n  email: \"\",\r\n};\r\n\r\nlet verifyLink, resetLink, profileSettings;\r\n\r\nfunction LoginPage(props) {\r\n  //accesing redux state\r\n\r\n  const commonData = useSelector((state) => state.ui.commonData);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(loadCommonData());\r\n  }, []);\r\n\r\n  //loader\r\n  const [showLoader, setShowLoader] = useState(false);\r\n  //Alert Message\r\n  const [errorMessage, setErrorMessage] = useState({\r\n    type: \"success\",\r\n    message: \"\",\r\n  });\r\n\r\n  //form values\r\n  const [formType, setFormType] = useState(\"login\");\r\n\r\n  const closeModal = () => {\r\n    dispatch(setLoginModalVisibility(false));\r\n    setErrorMessage({ type: \"danger\", message: \"\" });\r\n    setFormType(\"login\");\r\n  };\r\n\r\n  const showRegisterModal = () => {\r\n    dispatch(setRegisterModalVisibility(true));\r\n  };\r\n\r\n  //login from submit handler.\r\n  const onSubmitHandler = (values, onSubmitProps) => {\r\n    setErrorMessage({ type: \"danger\", message: \"\" });\r\n    setShowLoader(true);\r\n    dispatch(\r\n      signinUser({\r\n        body: values,\r\n        onSuccess: (res) => {\r\n          const { emailVerified } = res.data.data;\r\n          if (!emailVerified) {\r\n            if (verifyLink) verifyLink.click();\r\n          }\r\n          setErrorMessage({ type: \"danger\", message: \"\" });\r\n          props.history.replace(\"/\");\r\n        },\r\n        onError: (err) => {\r\n          if (err.response && err.response.data && err.response.data.message) {\r\n            setErrorMessage({\r\n              type: \"danger\",\r\n              message: err.response.data.message,\r\n            });\r\n          }\r\n        },\r\n        onEnd: () => {\r\n          setShowLoader(false);\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  const onPasswordReset = (values) => {\r\n    setShowLoader(true);\r\n    dispatch(\r\n      requestPasswordReset({\r\n        body: values,\r\n        onSuccess: (res) => {\r\n          storage.store(\"password_reset_email\", values.email);\r\n          closeModal();\r\n          if (resetLink) resetLink.click();\r\n        },\r\n        onError: (err) => {\r\n          if (err.response && err.response.data && err.response.data.message) {\r\n            setErrorMessage({\r\n              type: \"danger\",\r\n              message: err.response.data.message,\r\n            });\r\n          }\r\n        },\r\n        onEnd: () => {\r\n          setShowLoader(false);\r\n        },\r\n      })\r\n    );\r\n  };\r\n  //signin with facebook handler\r\n  const signinWithFacebookHandler = (facebookRes) => {\r\n    setShowLoader(true);\r\n    const { accessToken, userID } = facebookRes;\r\n\r\n    dispatch(\r\n      signinWithFacebook({\r\n        body: { accessToken, userID },\r\n        onSuccess: (res) => {\r\n          closeModal();\r\n          setErrorMessage({ type: \"danger\", message: \"\" });\r\n          console.log(\"RESPONSE\", res);\r\n          const user = res.data.data;\r\n          if (!user.phoneNumber) {\r\n            if (profileSettings) return profileSettings.click();\r\n          }\r\n\r\n          props.history.replace(\"/\");\r\n        },\r\n        onError: (err) => {\r\n          console.error(err.response.data.message);\r\n          if (err.response && err.response.data && err.response.data.message) {\r\n            setErrorMessage(err.response.data.message);\r\n          }\r\n        },\r\n        onEnd: () => {\r\n          setShowLoader(false);\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  //signinWithGoogle\r\n  const signinWithGoogleHandler = (googleRes) => {\r\n    console.log(\"Google Res\", googleRes);\r\n\r\n    setShowLoader(true);\r\n    const { accessToken, googleId } = googleRes;\r\n    dispatch(\r\n      signinWithGoogle({\r\n        body: { accessToken, googleId },\r\n        onSuccess: (res) => {\r\n          closeModal();\r\n          setErrorMessage({ type: \"danger\", message: \"\" });\r\n          const user = res.data.data;\r\n\r\n          if (!user.phoneNumber) {\r\n            if (profileSettings) return profileSettings.click();\r\n          }\r\n\r\n          props.history.replace(\"/\");\r\n        },\r\n        onError: (err) => {\r\n          console.log(\"ERR =>\", err);\r\n          console.error(err.response.data.message);\r\n          if (err.response && err.response.data && err.response.data.message) {\r\n            setErrorMessage(err.response.data.message);\r\n          }\r\n        },\r\n        onEnd: () => {\r\n          setShowLoader(false);\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  //overlapping Loader\r\n  const renderLoader = () => {\r\n    return (\r\n      <div className=\"overlapping-loader\">\r\n        <Loader />\r\n      </div>\r\n    );\r\n  };\r\n  //Login Form\r\n  const renderLoginForm = () => {\r\n    return (\r\n      <Formik\r\n        initialValues={loginFormInitialValues}\r\n        onSubmit={onSubmitHandler}\r\n        validationSchema={loginSchema}\r\n      >\r\n        <Form>\r\n          <div className=\"form-group\">\r\n            <div className=\"covering\">\r\n              <Field\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Email\"\r\n                name=\"email\"\r\n              />\r\n              <ErrorMessage name=\"email\" component={TextError} />\r\n            </div>\r\n            <div className=\"covering\">\r\n              <Field\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"Password\"\r\n                name=\"password\"\r\n              />\r\n              <ErrorMessage name=\"password\" component={TextError} />\r\n            </div>\r\n          </div>\r\n\r\n          {/* <div className=\"form-group\">\r\n            <label className=\"round\">\r\n              {\" \"}\r\n              Keep me signed in\r\n              <input type=\"checkbox\" checked=\"checked\" />\r\n              <span className=\"checkmark\"></span>\r\n            </label>\r\n          </div> */}\r\n          <button type=\"submit\" className=\"btn btn-default\">\r\n            Login\r\n          </button>\r\n        </Form>\r\n      </Formik>\r\n    );\r\n  };\r\n\r\n  const renderForgotPassForm = () => {\r\n    return (\r\n      <Formik\r\n        initialValues={forgotFormInitialValues}\r\n        validationSchema={forgotSchema}\r\n        onSubmit={onPasswordReset}\r\n      >\r\n        <Form>\r\n          <div className=\"form-group\">\r\n            <div className=\"covering\">\r\n              <Field\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Email\"\r\n                name=\"email\"\r\n              />\r\n              <ErrorMessage name=\"email\" component={TextError} />\r\n            </div>\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"btn btn-default\">\r\n            Next\r\n          </button>\r\n        </Form>\r\n      </Formik>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Link\r\n        to=\"/verify-email\"\r\n        className=\"d-none\"\r\n        ref={(ref) => (verifyLink = ref)}\r\n      ></Link>\r\n      <Link\r\n        to=\"/reset-password\"\r\n        className=\"d-none\"\r\n        ref={(ref) => (resetLink = ref)}\r\n      ></Link>\r\n      <Link\r\n        to=\"/dashboard\"\r\n        className=\"d-none\"\r\n        ref={(ref) => (profileSettings = ref)}\r\n      ></Link>\r\n      {/* <Modal.Header closeButton></Modal.Header> */}\r\n      <section className=\"login-container\">\r\n        <Row className=\"bg no-gutters\" style={{ height: \"100vh\" }}>\r\n          <Col md=\"6\" className=\"img\">\r\n            <div\r\n              className=\"w-100 h-100 img-fill\"\r\n              style={{\r\n                backgroundImage: `url(\"${commonData.loginModalImage}\")`,\r\n              }}\r\n            ></div>\r\n          </Col>\r\n          <Col md=\"6\" className=\"align-self-center position-relative \">\r\n            {showLoader && renderLoader()}\r\n            <div className=\"popup-form-wrapper\">\r\n              {errorMessage.message && (\r\n                <div className={`alert alert-${errorMessage.type}`}>\r\n                  {errorMessage.message}\r\n                </div>\r\n              )}\r\n              {formType === \"login\" && renderLoginForm()}\r\n              {formType === \"forgot\" && (\r\n                <>\r\n                  <h3 className=\"text-center pb-3\">Reset Password</h3>\r\n                  {renderForgotPassForm()}\r\n                  <p className=\"text-muted resend-text py-3\">\r\n                    We'll send you a 6 - Digit code to your email address, which\r\n                    you can use to reset your password.\r\n                  </p>\r\n                </>\r\n              )}\r\n              <div className=\"register-link\">\r\n                {formType === \"login\" && (\r\n                  <>\r\n                    <a\r\n                      onClick={() => {\r\n                        setErrorMessage({ type: \"danger\", message: \"\" });\r\n                        setFormType(\"forgot\");\r\n                      }}\r\n                    >\r\n                      Forgot Password or Username?\r\n                    </a>\r\n                    <span className=\"or my-3\">or</span>\r\n                    <div className=\"row  mb-4 social-login-wrapper\">\r\n                      <div className=\"col-6 col-md-6 col-lg-6\">\r\n                        <FacebookLogin\r\n                          onFBResponse={signinWithFacebookHandler}\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-6 col-md-6 col-lg-6\">\r\n                        <GoogleLogin\r\n                          onGoogleResponse={signinWithGoogleHandler}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                )}\r\n                <span>Not Registered ?</span>\r\n                <Link className=\"bold\" to=\"/register\">\r\n                  Join for Free\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginPage;\r\n","import React from \"react\";\r\n\r\nfunction TextError(props) {\r\n  return (\r\n    <>{props.children && <div className=\"error mr-3\">{props.children}</div>}</>\r\n  );\r\n}\r\n\r\nexport default TextError;\r\n"],"sourceRoot":""}