{"version":3,"sources":["webpack:///./client/assets/img/play_free.png","webpack:///./client/assets/img/tick.png","webpack:///./client/components/Loader.js","webpack:///./client/components/ShareLink.js","webpack:///./client/components/Toggle.js","webpack:///./client/helpers/priceFormater.js","webpack:///./client/pages/Course/ForumThreads.js","webpack:///./client/pages/Course/LessonCard.js","webpack:///./client/pages/Course/QuestionCard.js","webpack:///./client/pages/Course/QuizBoard.js","webpack:///./client/pages/Course/QuizModal.js","webpack:///./client/pages/Course/VideoLesson.js","webpack:///./client/pages/CoursePage.js","webpack:///./client/store/api/courseFeedbacks.js","webpack:///./client/store/api/lessons.js"],"names":["props","color","shareLink","display","justifyContent","alignItems","backgroundColor","width","height","padding","margin","borderRadius","checked","onChange","disabled","e","target","formatPrice","price","numberWithCommas","x","parts","toString","split","replace","join","fourmTypeDropdownToggle","createThreadForm","dispatch","useDispatch","user","useSelector","state","auth","useState","showLoader","setShowLoader","name","type","formInitialValues","setFormInitialValues","onCreateThread","values","resetForm","courseId","body","course","createForumThread","onSuccess","res","setForumThreads","data","forumThreads","onEnd","renderCreateThread","Yup","required","ref","setFieldValue","TextError","marginTop","preventDefault","click","searchQuery","setSearchQuery","useEffect","getForumThreads","deleteThread","id","index","conf","window","confirm","deleteForumThread","newThreads","splice","renderThreadsList","filteredList","filter","th","toLocaleLowerCase","includes","map","thread","threadIndex","_id","role","stopPropagation","answers","lastAnswer","message","image","objectFit","firstName","lastName","moment","createdAt","fromNow","value","trim","lessonId","moveToPrevLesson","moveToNextLesson","setWatched","canShow","accessibility","currentLesson","setCurrentLesson","getLesson","setCurrentQuiz","quizzes","onError","err","renderLoader","quizEnded","setQuizEnded","play_free","timer","interval","question","number","onNext","isLast","secondsAvailable","setSecondsAvailable","clearTimeout","clearInterval","setWritenAnswer","setOptionsMap","allowedTime","availabletime","timeToSeconds","setTimeout","answer","writtenAnswer","selectedOptions","optionsMap","count","setInterval","left","correctCount","options","forEach","op","isCorrect","renderQuestion","secondsToTime","renderHTML","weight","optMap","opt","renderOptions","borderBottom","newOptMap","key","console","log","renderWritable","hms","a","seconds","date","Date","setSeconds","toISOString","substr","onComplete","currentQuiz","entities","token","questions","quiz","started","currentQuestion","quizAnswers","setQuizAnswers","showAnswerSheet","setShowAnswerSheet","onNextQuestion","questionId","newQuizAns","nextIndex","answerQuiz","setCurrentQuestion","renderQuestions","length","renderStartQuiz","startQuiz","q","thisQsAns","i","renderAnswerSheet","qu","isAnsCorrect","qDivWrapperClass","marksObtained","marks","position","top","right","qo","maxWidth","reference","resetCurrentQuiz","QuizModal","quizModal","ui","onQuizDone","visible","activitySavingInterval","VideoPlayer","loadable","ssr","videoPlayerRef","newVideo","isBulk","videoSources","videoQualities","sort","reverse","vq","src","video","label","withCredentials","videoSourcesNew","duration","getCurrentDuration","saveActivity","lesson","popedQuizzes","setPoppedQuizes","quizPopupInterval","paused","videoDuration","popUpTime","find","showInVideoTime","findIndex","pq","push","pause","exitFullScreen","setQuizModalVisibility","onQuizComplete","play","waterMarkText","email","videoCaptions","markVideoWatched","Testimonials","CourseImagesSlider","CoursePage","match","params","detailTab","setDetailTab","cart","authToken","list","setList","feedbackModalVisibility","setFeedbackModalVisibility","traits","setTraits","courseData","coursePage","description","rating","totalRatingCount","lectures","teachers","chapters","category","language","skillLevel","feedbackAsked","startingVideoId","isEnrolled","enrolledChapters","watchedVideos","currentCourse","setCurrentCourse","loadFullCourse","lessons","slug","setLoginModalVisibility","setLoginModalClosable","setRegisterModalClosable","currentChapterId","ch","j","le","setSelectedAccordian","loadReviews","setReviews","setFeedbackAsked","tkn","storage","get","currentLessonIndex","prevLessonIndex","currentChapterIndex","prevChapterIndex","chap","chapIndex","currentChap","prevChap","prevLesson","history","nextLessonIndex","nextChapterIndex","nextChap","nextLesson","renderHeaders","renderCourseImageSlider","images","renderDetailTabs","tabs","showReviews","tab","renderOverViewTabContent","selectedAccordian","renderVideos","cartCourse","items","itm","cartChapterIds","c","chapterIndex","isInCart","addItemToCartApi","completeCourse","lessonIndex","watched","w","lessonIcon","doc","pdfName","desc","renderInstructors","teacher","teacherIndex","introduction","twitterLink","facebookLink","linkedInLink","googleLink","youtubeLink","reviews","deleteCourseReview","deleteReview","newReviews","renderReviews","fiveStar","fourStar","threeStar","twoStar","oneStar","rev","revIndex","format","min","addCourseReview","courseReview","r","alert","errors","touched","fontSize","renderForum","renderCourseDetails","renderFeedbackModal","addCourseFeedback","str","courseTraits","Array","t","metaTitle","metaDescription","metaKeyWords","backgroundImage","watcheObj","marginBottom","tickboxImage","marginRight","loadData","store","matchedRoute","Promise","resolve","reject","http","url","setCoursePageData","path","getState","loading","courses","post","headers","handleErrors","storeState","Error"],"mappings":"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","file":"pages-CoursePage.a243ab67d79b1a4741d8.js","sourcesContent":["export default __webpack_public_path__ + \"img/play_free.8550f9efcc3931b7797300024d9e9458.png\";","export default __webpack_public_path__ + \"img/tick.38dd9d28dad5304bb7f5e5196e1eca64.png\";","import React from \"react\";\r\nimport BounceLoader from \"react-spinners/BounceLoader\";\r\n\r\nexport default (props) => {\r\n  const { color = \"#00acf0\" } = props;\r\n  return <BounceLoader color={color} />;\r\n};\r\n","import React from \"react\";\r\n\r\nimport {\r\n  EmailShareButton,\r\n  FacebookShareButton,\r\n  HatenaShareButton,\r\n  InstapaperShareButton,\r\n  LineShareButton,\r\n  LinkedinShareButton,\r\n  LivejournalShareButton,\r\n  MailruShareButton,\r\n  OKShareButton,\r\n  PinterestShareButton,\r\n  PocketShareButton,\r\n  RedditShareButton,\r\n  TelegramShareButton,\r\n  TumblrShareButton,\r\n  TwitterShareButton,\r\n  ViberShareButton,\r\n  VKShareButton,\r\n  WhatsappShareButton,\r\n  WorkplaceShareButton,\r\n} from \"react-share\";\r\n\r\nexport default (props) => {\r\n  const { shareLink = \"\" } = props;\r\n  return (\r\n    <div style={{ display: \"flex\", justifyContent: \"flex-start\" }}>\r\n      <FacebookShareButton\r\n        url={shareLink}\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          color: \"#fff\",\r\n          backgroundColor: \"#4267B2\",\r\n          width: \"30px\",\r\n          height: \"30px\",\r\n          padding: \"0px\",\r\n          margin: \"5px\",\r\n          borderRadius: \"30px\",\r\n        }}\r\n      >\r\n        <i className=\"fab fa-facebook m-0\"></i>\r\n      </FacebookShareButton>\r\n\r\n      <WhatsappShareButton\r\n        url={shareLink}\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          color: \"#fff\",\r\n          backgroundColor: \"#25D366\",\r\n          width: \"30px\",\r\n          height: \"30px\",\r\n          padding: \"0px\",\r\n          margin: \"5px\",\r\n          borderRadius: \"30px\",\r\n        }}\r\n      >\r\n        <i className=\"fab fa-whatsapp m-0\"></i>\r\n      </WhatsappShareButton>\r\n      <TwitterShareButton\r\n        url={shareLink}\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          color: \"#fff\",\r\n          backgroundColor: \"#1DA1F2\",\r\n          width: \"30px\",\r\n          height: \"30px\",\r\n          padding: \"0px\",\r\n          margin: \"5px\",\r\n          borderRadius: \"30px\",\r\n        }}\r\n      >\r\n        <i className=\"fab fa-twitter m-0\"></i>\r\n      </TwitterShareButton>\r\n\r\n      <LinkedinShareButton\r\n        url={shareLink}\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          color: \"#fff\",\r\n          backgroundColor: \"#0072b1\",\r\n          width: \"30px\",\r\n          height: \"30px\",\r\n          padding: \"0px\",\r\n          margin: \"5px\",\r\n          borderRadius: \"30px\",\r\n        }}\r\n      >\r\n        <i className=\"fab fa-linkedin m-0\"></i>\r\n      </LinkedinShareButton>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default (props) => {\r\n  const { checked, onChange, disabled = false } = props;\r\n  return (\r\n    <>\r\n      <label className=\"custom-toggle\">\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={checked}\r\n          disabled={disabled}\r\n          onChange={(e) => {\r\n            onChange(e.target.checked);\r\n          }}\r\n        />\r\n        <span className=\"custom-toggle-slider rounded-circle\"></span>\r\n      </label>\r\n    </>\r\n  );\r\n};\r\n","export const formatPrice = (price) => {\r\n  return numberWithCommas(price);\r\n};\r\n\r\nfunction numberWithCommas(x = \"\") {\r\n  var parts = x.toString().split(\".\");\r\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  return parts.join(\".\");\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport TextError from \"../../shared/TextError\";\r\nimport { Dropdown } from \"react-bootstrap\";\r\nimport Loader from \"../../components/Loader\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport {\r\n  createForumThread,\r\n  getForumThreads,\r\n  deleteForumThread,\r\n} from \"../../store/api/forum\";\r\nimport moment from \"moment\";\r\nlet fourmTypeDropdownToggle, createThreadForm;\r\nexport default (props) => {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((state) => state.auth.user);\r\n  const [showLoader, setShowLoader] = useState(false);\r\n  const [formInitialValues, setFormInitialValues] = useState({\r\n    name: \"\",\r\n    type: \"question\",\r\n  });\r\n  const onCreateThread = (values, { resetForm }) => {\r\n    if (showLoader) return;\r\n    const { courseId } = props;\r\n    const body = {\r\n      course: courseId,\r\n      ...values,\r\n    };\r\n\r\n    setShowLoader(true);\r\n\r\n    dispatch(\r\n      createForumThread({\r\n        body,\r\n        onSuccess: (res) => {\r\n          setForumThreads([{ ...res.data.data, user }, ...forumThreads]);\r\n          setFormInitialValues({ name: \"\", type: \"question\" });\r\n          resetForm();\r\n        },\r\n        onEnd: () => {\r\n          setShowLoader(false);\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  const renderCreateThread = () => {\r\n    return (\r\n      <Formik\r\n        validationSchema={Yup.object({\r\n          name: Yup.string().required(\"Question/Discussion is required.\"),\r\n          type: Yup.string(),\r\n        })}\r\n        initialValues={formInitialValues}\r\n        enableReinitialize={true}\r\n        onSubmit={onCreateThread}\r\n        ref={(ref) => {\r\n          createThreadForm = ref;\r\n        }}\r\n      >\r\n        {({ setFieldValue, values }) => {\r\n          return (\r\n            <Form>\r\n              <div\r\n                className=\"row position-relative\"\r\n                className=\"create_thread mt-2\"\r\n              >\r\n                <div className=\"covering m-0\">\r\n                  <Field\r\n                    className=\"form-control border-none\"\r\n                    placeholder={\r\n                      values.type === \"question\"\r\n                        ? \"Ask for help...\"\r\n                        : \"Start a discussion...\"\r\n                    }\r\n                    id=\"threadNameField\"\r\n                    name=\"name\"\r\n                    as=\"textarea\"\r\n                  />\r\n                  <ErrorMessage name=\"name\" component={TextError} />\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"flex-end\",\r\n                    marginTop: \"3px\",\r\n                  }}\r\n                >\r\n                  <Dropdown>\r\n                    <Dropdown.Toggle\r\n                      as=\"button\"\r\n                      className=\"hover_button\"\r\n                      id=\"dropdown-basic\"\r\n                      ref={(ref) => {\r\n                        fourmTypeDropdownToggle = ref;\r\n                      }}\r\n                    >\r\n                      <i\r\n                        className={\r\n                          values.type === \"question\"\r\n                            ? \"far fa-question-circle\"\r\n                            : \"fas fa-users\"\r\n                        }\r\n                      ></i>\r\n                    </Dropdown.Toggle>\r\n\r\n                    <Dropdown.Menu>\r\n                      <Dropdown.Item\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          if (fourmTypeDropdownToggle)\r\n                            fourmTypeDropdownToggle.click();\r\n                          setFieldValue(\"type\", \"question\");\r\n                        }}\r\n                      >\r\n                        <i className=\"far fa-question-circle\"></i> Question\r\n                      </Dropdown.Item>\r\n                      <Dropdown.Item\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          if (fourmTypeDropdownToggle)\r\n                            fourmTypeDropdownToggle.click();\r\n                          setFieldValue(\"type\", \"discussion\");\r\n                        }}\r\n                      >\r\n                        <i className=\"fas fa-users\"></i> Discussion\r\n                      </Dropdown.Item>\r\n                    </Dropdown.Menu>\r\n                  </Dropdown>\r\n\r\n                  <button type=\"submit\" className=\"hover_button\">\r\n                    <i className=\"fas fa-paper-plane\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </Form>\r\n          );\r\n        }}\r\n      </Formik>\r\n    );\r\n  };\r\n\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [forumThreads, setForumThreads] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const { courseId } = props;\r\n    setShowLoader(true);\r\n    dispatch(\r\n      getForumThreads({\r\n        courseId,\r\n        onSuccess: (res) => {\r\n          setForumThreads(res.data.data);\r\n        },\r\n        onEnd: () => {\r\n          setShowLoader(false);\r\n        },\r\n      })\r\n    );\r\n  }, []);\r\n\r\n  const deleteThread = (id, index) => {\r\n    const conf = window.confirm(\"Are you sure yu want to delete?\");\r\n    if (!conf) return;\r\n\r\n    dispatch(\r\n      deleteForumThread({\r\n        id,\r\n        onSuccess: (res) => {\r\n          const newThreads = [...forumThreads];\r\n          newThreads.splice(index, 1);\r\n          setForumThreads(newThreads);\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  const renderThreadsList = () => {\r\n    const filteredList = searchQuery\r\n      ? forumThreads.filter((th) => {\r\n          return th.name\r\n            .toLocaleLowerCase()\r\n            .includes(searchQuery.toLocaleLowerCase());\r\n        })\r\n      : forumThreads;\r\n    return filteredList.map((thread, threadIndex) => {\r\n      if (!thread.user) return null;\r\n      return (\r\n        <div\r\n          className=\"quiz_list\"\r\n          key={`${thread._id} - thread- ${threadIndex}`}\r\n        >\r\n          {user && user.role === \"ADMIN\" && (\r\n            <button\r\n              className=\"btn btn-danger\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                deleteThread(thread._id, threadIndex);\r\n              }}\r\n            >\r\n              Delete\r\n            </button>\r\n          )}\r\n          <Link\r\n            to={\"/forum/\" + thread._id}\r\n            className=\"text-dark text-decoration-none\"\r\n          >\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-2 col-md-2 col-12 align-self-center text-center\">\r\n                <h6>\r\n                  <span>{thread.answers}</span>\r\n                  {thread.type === \"question\" ? \"Answers\" : \"Replies\"}\r\n                </h6>\r\n              </div>\r\n              <div className=\"col-lg-8 col-md-8 col-12\">\r\n                <h5>{thread.name}</h5>\r\n                {thread.lastAnswer && <p>{thread.lastAnswer.message}</p>}\r\n              </div>\r\n              <div className=\"col-lg-2 col-md-2 col-12\">\r\n                <img\r\n                  src={thread.user.image}\r\n                  alt=\"\"\r\n                  className=\"img-fluid\"\r\n                  style={{\r\n                    objectFit: \"cover\",\r\n                    width: \"64px\",\r\n                    height: \"64px\",\r\n                    backgroundColor: \"#ccc\",\r\n                  }}\r\n                />\r\n                <p className=\"posted\">\r\n                  <span className=\"name\">{`${thread.user.firstName} ${thread.user.lastName}`}</span>\r\n                  {thread.type === \"question\"\r\n                    ? `Asked ${moment(thread.createdAt).fromNow()}`\r\n                    : `Started Discussion ${moment(\r\n                        thread.createdAt\r\n                      ).fromNow()}`}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"forum\">\r\n      {renderCreateThread()}\r\n      <div className=\"search_box\">\r\n        <div className=\"input-group input-group-lg\">\r\n          <input\r\n            type=\"search\"\r\n            className=\"form-control\"\r\n            value={searchQuery}\r\n            onChange={(e) => {\r\n              setSearchQuery(e.target.value.trim());\r\n            }}\r\n            placeholder=\"Search\"\r\n          />\r\n          <div className=\"input-group-append\">\r\n            <button className=\"btn\">\r\n              <i className=\"fal fa-search\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {renderThreadsList()}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Loader from \"../../components/Loader\";\r\nimport play_free from \"../../assets/img/play_free.png\";\r\nimport { getLesson } from \"../../store/api/lessons\";\r\nimport VideoLesson from \"./VideoLesson\";\r\nimport QuizBoard from \"./QuizBoard\";\r\nimport {\r\n  setCurrentQuiz,\r\n  resetCurrentQuiz,\r\n} from \"../../store/entities/currentQuiz\";\r\n\r\nexport default (props) => {\r\n  const { lessonId, courseId, moveToPrevLesson, moveToNextLesson, setWatched } =\r\n    props;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [currentLesson, setCurrentLesson] = useState({\r\n    name: \"\",\r\n    type: \"\",\r\n    canShow: false,\r\n    accessibility: false,\r\n  });\r\n  const [showLoader, setShowLoader] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setShowLoader(true);\r\n    dispatch(\r\n      getLesson({\r\n        id: lessonId,\r\n        onSuccess: (res) => {\r\n          setCurrentLesson(res.data.data);\r\n          if (res.data.data.type === \"quiz\") {\r\n            dispatch(setCurrentQuiz(res.data.data.quizzes[0]));\r\n          }\r\n        },\r\n        onError: (err) => {},\r\n        onEnd: () => {\r\n          setShowLoader(false);\r\n        },\r\n      })\r\n    );\r\n  }, [lessonId]);\r\n\r\n  const renderLoader = () => {\r\n    return (\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          height: \"390px\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"space-around\",\r\n        }}\r\n      >\r\n        <Loader />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const [quizEnded, setQuizEnded] = useState(false);\r\n  return (\r\n    <div className=\"lesson-wrapper\">\r\n      {showLoader ? (\r\n        renderLoader()\r\n      ) : (\r\n        <>\r\n          {currentLesson.canShow ? (\r\n            <>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-9\">\r\n                  {currentLesson.type !== \"quiz\" && (\r\n                    <h2>{currentLesson.name}</h2>\r\n                  )}\r\n                </div>\r\n                <div className=\"col-md-3 justify-content-end\">\r\n                  {currentLesson.accessibility &&\r\n                    currentLesson.accessibility === \"free\" && (\r\n                      <img className=\"float-right\" src={play_free} />\r\n                    )}\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                {currentLesson.type === \"video\" && (\r\n                  <>\r\n                    <VideoLesson\r\n                      currentLesson={currentLesson}\r\n                      courseId={courseId}\r\n                      lessonId={currentLesson._id}\r\n                      moveToNextLesson={moveToNextLesson}\r\n                      moveToPrevLesson={moveToPrevLesson}\r\n                      setWatched={setWatched}\r\n                    />\r\n                  </>\r\n                )}\r\n\r\n                {currentLesson.type === \"quiz\" && !quizEnded && (\r\n                  <div className=\"card\">\r\n                    <QuizBoard\r\n                      courseId={courseId}\r\n                      lessonId={lessonId}\r\n                      onComplete={() => {\r\n                        setQuizEnded(true);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                )}\r\n\r\n                {currentLesson.type === \"quiz\" && quizEnded && (\r\n                  <div classNam=\"my-5 py-5\">\r\n                    <h3 className=\"text-center my-5 py-5\">Quiz Ended</h3>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <div className=\"my-5\">\r\n              <h1 className=\"py-5\">\r\n                You need to Enroll in this course to view this lesson\r\n              </h1>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport renderHTML from \"react-render-html\";\r\nimport Toggle from \"../../components/Toggle\";\r\n\r\nlet timer = null;\r\nlet interval = null;\r\nexport default (props) => {\r\n  const { question, number, onNext, isLast = false } = props;\r\n  //managing timer\r\n\r\n  const [secondsAvailable, setSecondsAvailable] = useState(0);\r\n  useEffect(() => {\r\n    if (timer) clearTimeout(timer);\r\n    if (interval) clearInterval(interval);\r\n\r\n    /// reseting\r\n    setWritenAnswer(\"\");\r\n    setOptionsMap([]);\r\n    if (question.allowedTime) {\r\n      const availabletime = timeToSeconds(question.allowedTime);\r\n\r\n      setSecondsAvailable(availabletime);\r\n      timer = setTimeout(() => {\r\n        const answer = { writtenAnswer, selectedOptions: optionsMap };\r\n        if (timer) clearTimeout(timer);\r\n        if (interval) clearInterval(interval);\r\n        if (onNext) onNext(answer);\r\n      }, (availabletime + 1) * 1000);\r\n\r\n      let count = 0;\r\n      interval = setInterval(() => {\r\n        ++count;\r\n        const left = availabletime - count;\r\n        if (left >= 0) setSecondsAvailable(left);\r\n      }, 1000);\r\n    }\r\n  }, [question]);\r\n  let correctCount = 0;\r\n  if (question.type !== \"writable\") {\r\n    question.options.forEach((op) => {\r\n      if (op.isCorrect) ++correctCount;\r\n    });\r\n  }\r\n  const renderQuestion = () => {\r\n    return (\r\n      <>\r\n        <div className=\"clearfix\">\r\n          <h5 className=\"float-left\">Question {number}</h5>\r\n          {question.allowedTime && (\r\n            <span className=\"badge badge-danger float-right\">\r\n              {secondsToTime(secondsAvailable)}\r\n            </span>\r\n          )}\r\n        </div>\r\n        {question.name && renderHTML(question.name)}\r\n        {question.image && (\r\n          <img\r\n            src={question.image}\r\n            style={{ weight: \"200px\", width: \"500px\" }}\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n  const [optionsMap, setOptionsMap] = useState({});\r\n\r\n  useEffect(() => {\r\n    const optMap = {};\r\n    if (question.type !== \"writable\") {\r\n      (question.options || []).forEach((opt) => {\r\n        optMap[opt.id] = false;\r\n      });\r\n\r\n      setOptionsMap(optMap);\r\n    }\r\n  }, [question.options]);\r\n\r\n  const renderOptions = () => {\r\n    return (\r\n      <div>\r\n        {question.options.map((op) => {\r\n          return (\r\n            <div\r\n              key={op.id + op.name}\r\n              style={{\r\n                borderBottom: \"1px solid rgba(0,0,0,0.05)\",\r\n                display: \"flex\",\r\n              }}\r\n              className=\"mb-2\"\r\n            >\r\n              <div>\r\n                <Toggle\r\n                  checked={optionsMap[op.id]}\r\n                  onChange={(checked) => {\r\n                    const newOptMap = { ...optionsMap };\r\n                    if (correctCount == 1) {\r\n                      for (let key in newOptMap) newOptMap[key] = false;\r\n                    }\r\n                    newOptMap[op.id] = checked;\r\n                    setOptionsMap(newOptMap);\r\n                    console.log(\"OPT MAPPP =>>>\", newOptMap);\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"ml-2\">{renderHTML(op.name)}</div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n  const [writtenAnswer, setWritenAnswer] = useState(\"\");\r\n  const renderWritable = () => {\r\n    return (\r\n      <div className=\"form-group mb-3\">\r\n        <textarea\r\n          className=\"form-control\"\r\n          rows=\"7\"\r\n          placeholder=\"Write Answer\"\r\n          value={writtenAnswer}\r\n          onChange={(e) => {\r\n            setWritenAnswer(e.target.value);\r\n          }}\r\n        ></textarea>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"question-card rounded mb-2 p-3\"\r\n      style={{ backgroundColor: \"#fafafa\" }}\r\n    >\r\n      {renderQuestion()}\r\n      {question.type === \"writable\" ? renderWritable() : renderOptions()}\r\n\r\n      <div className=\"clearfix\">\r\n        <button\r\n          className=\"btn btn-primary float-right\"\r\n          onClick={() => {\r\n            const answer = { writtenAnswer, selectedOptions: optionsMap };\r\n            if (onNext) {\r\n              if (timer) clearTimeout(timer);\r\n              if (interval) clearInterval(interval);\r\n              onNext(answer);\r\n            }\r\n          }}\r\n        >\r\n          {!isLast ? (\r\n            <>\r\n              Next <i className=\"ml-1 fa fa-chevron-right\"></i>\r\n            </>\r\n          ) : (\r\n            \"Done\"\r\n          )}\r\n        </button>\r\n        <button\r\n          className=\"btn btn-secondary mr-1 float-right\"\r\n          onClick={() => {\r\n            const answer = { writtenAnswer: \"\", selectedOptions: {} };\r\n            if (onNext) {\r\n              if (timer) clearTimeout(timer);\r\n              if (interval) clearInterval(interval);\r\n              onNext(answer);\r\n            }\r\n          }}\r\n        >\r\n          Skip\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction timeToSeconds(hms) {\r\n  // var hms = \"02:04:33\"; // your input string\r\n  var a = hms.split(\":\"); // split it at the colons\r\n\r\n  // minutes are worth 60 seconds. Hours are worth 60 minutes.\r\n  var seconds = +a[0] * 60 * 60 + +a[1] * 60 + +a[2];\r\n  return seconds;\r\n}\r\n\r\nconst secondsToTime = (seconds = 0) => {\r\n  const date = new Date(0);\r\n  date.setSeconds(seconds);\r\n  return date.toISOString().substr(11, 8);\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport QuestionCard from \"./QuestionCard\";\r\nimport {\r\n  startQuiz,\r\n  setCurrentQuestion,\r\n  resetCurrentQuiz,\r\n} from \"../../store/entities/currentQuiz\";\r\nimport { answerQuiz } from \"../../store/api/quizes\";\r\nimport renderHTML from \"react-render-html\";\r\n\r\nexport default (props) => {\r\n  const { onComplete } = props;\r\n  const dispatch = useDispatch();\r\n  const currentQuiz = useSelector((state) => state.entities.currentQuiz);\r\n  const token = useSelector((state) => state.auth.token);\r\n\r\n  const {\r\n    quiz: { questions },\r\n    started,\r\n    currentQuestion,\r\n  } = currentQuiz;\r\n\r\n  const [quizAnswers, setQuizAnswers] = useState({});\r\n\r\n  const [showAnswerSheet, setShowAnswerSheet] = useState(false);\r\n\r\n  const onNextQuestion = (answer, questionId) => {\r\n    const newQuizAns = { ...quizAnswers };\r\n    newQuizAns[questionId] = answer;\r\n    setQuizAnswers(newQuizAns);\r\n\r\n    const nextIndex = currentQuiz.currentQuestion + 1;\r\n\r\n    if (!questions[nextIndex]) {\r\n      // console.log(\"Quiz answers => \", newQuizAns);\r\n      if (token)\r\n        dispatch(answerQuiz({ id: currentQuiz.quiz._id, body: newQuizAns }));\r\n\r\n      setShowAnswerSheet(true);\r\n      // dispatch(resetCurrentQuiz());\r\n      // if (onComplete) onComplete();\r\n    } else {\r\n      dispatch(setCurrentQuestion(nextIndex));\r\n    }\r\n  };\r\n  const renderQuestions = () => {\r\n    const question = questions[currentQuestion];\r\n    return (\r\n      <>\r\n        {question ? (\r\n          <QuestionCard\r\n            question={question}\r\n            number={currentQuestion + 1}\r\n            onNext={(answer) => onNextQuestion(answer, question._id)}\r\n            isLast={questions.length === currentQuestion + 1}\r\n          />\r\n        ) : null}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const renderStartQuiz = () => {\r\n    return (\r\n      <div className=\"text-center py-5\">\r\n        <div className=\"btn-group\">\r\n          <button className=\"btn btn-danger\" onClick={onComplete}>\r\n            Skip Quiz\r\n          </button>\r\n          <button\r\n            className=\"btn btn-primary\"\r\n            onClick={() => {\r\n              dispatch(setCurrentQuestion(currentQuestion + 1));\r\n              dispatch(startQuiz(true));\r\n            }}\r\n          >\r\n            Start Quiz\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const isCorrect = (q) => {\r\n    const thisQsAns = quizAnswers[q._id];\r\n    if (!thisQsAns) return false;\r\n\r\n    for (let i = 0; i < q.options.length; ++i) {\r\n      if (q.options[i]) {\r\n        console.log(\"QuestionOption\", q.options[i]);\r\n        console.log(\"answer option \", thisQsAns);\r\n\r\n        if (\r\n          q.options[i].isCorrect !== thisQsAns.selectedOptions[q.options[i].id]\r\n        )\r\n          return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  };\r\n  const renderAnswerSheet = () => {\r\n    return (\r\n      <div>\r\n        <h3 className=\"text-center my-4\">Answer Sheet</h3>\r\n        {questions.map((qu) => {\r\n          let isAnsCorrect = false;\r\n          if (qu.type !== \"writable\") {\r\n            isAnsCorrect = isCorrect(qu);\r\n          }\r\n\r\n          let qDivWrapperClass =\r\n            \"question-card rounded mb-2 p-3 \" +\r\n            (isAnsCorrect && qu.type !== \"writable\"\r\n              ? \"border border-success\"\r\n              : \"border border-danger\");\r\n\r\n          if (qu.type == \"writable\") {\r\n            qDivWrapperClass =\r\n              \"question-card rounded mb-2 p-3 border border-primary\";\r\n          }\r\n\r\n          let marksObtained = isAnsCorrect ? qu.marks : 0;\r\n          return (\r\n            <div\r\n              key={qu._id}\r\n              className={qDivWrapperClass}\r\n              style={{ backgroundColor: \"#fafafa\", position: \"relative\" }}\r\n            >\r\n              <span style={{ position: \"absolute\", top: 2, right: 2 }}>\r\n                {qu.type !== \"writable\"\r\n                  ? `Marks: ${marksObtained}/${qu.marks}`\r\n                  : `Marks: Checking Pending`}\r\n              </span>\r\n              <div>{renderHTML(qu.name)}</div>\r\n              {qu.image && (\r\n                <img\r\n                  src={qu.image}\r\n                  style={{ weight: \"200px\", width: \"500px\" }}\r\n                />\r\n              )}\r\n              <div>\r\n                {qu.options.map((qo) => {\r\n                  return (\r\n                    <div\r\n                      className=\"row no-gutters\"\r\n                      style={{ maxWidth: \"300px\" }}\r\n                    >\r\n                      <div className=\"col\">{renderHTML(qo.name)}</div>\r\n                      {qo.isCorrect && (\r\n                        <div claassName=\"col-2\">\r\n                          <i className=\"fas fa-check text-success\"></i>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n              {qu.reference && <div>{renderHTML(qu.reference)}</div>}\r\n            </div>\r\n          );\r\n        })}\r\n\r\n        <div className=\"clearfix\">\r\n          <button\r\n            className=\"btn btn-primary float-right\"\r\n            onClick={() => {\r\n              setShowAnswerSheet(false);\r\n              dispatch(resetCurrentQuiz());\r\n              if (onComplete) onComplete();\r\n            }}\r\n          >\r\n            Continue\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"p-3 rounded bg-white\">\r\n      <h1>Quiz: {currentQuiz.quiz.name}</h1>\r\n      {!started && renderStartQuiz()}\r\n      {started && !showAnswerSheet && renderQuestions()}\r\n\r\n      {showAnswerSheet && renderAnswerSheet()}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport Loader from \"../../components/Loader\";\r\n\r\nimport QuizBoard from \"./QuizBoard\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\n//redux actions\r\nimport { setQuizModalVisibility } from \"../../store/ui/quizModal\";\r\n\r\nfunction QuizModal(props) {\r\n  const quizModal = useSelector((state) => state.ui.quizModal);\r\n  const renderLoader = () => {\r\n    return (\r\n      <div className=\"overlapping-loader\">\r\n        <Loader />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const onQuizDone = () => {\r\n    const { onComplete } = props;\r\n    if (onComplete) onComplete();\r\n  };\r\n\r\n  return (\r\n    <Modal show={quizModal.visible}>\r\n      {/* <button className=\"btn btn-success\" onClick={onQuizDone}>\r\n        Skip\r\n      </button> */}\r\n      <QuizBoard onComplete={onQuizDone} />\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default QuizModal;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport loadable from \"@loadable/component\";\r\nimport QuizModal from \"./QuizModal\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\n//redux actions\r\nimport { setQuizModalVisibility } from \"../../store/ui/quizModal\";\r\nimport {\r\n  setCurrentQuiz,\r\n  resetCurrentQuiz,\r\n} from \"../../store/entities/currentQuiz\";\r\n\r\nimport { markVideoWatched } from \"../../store/api/lessons\";\r\nimport { saveActivity } from \"../../store/api/courses\";\r\n\r\nlet activitySavingInterval;\r\nconst VideoPlayer = loadable(\r\n  () => import(\"../../components/Video/VideoPlayer\"),\r\n  {\r\n    ssr: false,\r\n  }\r\n);\r\n\r\nlet videoPlayerRef;\r\n\r\nexport default (props) => {\r\n  const {\r\n    currentLesson,\r\n    moveToNextLesson,\r\n    moveToPrevLesson,\r\n    setWatched,\r\n    courseId,\r\n    lessonId,\r\n  } = props;\r\n  const dispatch = useDispatch();\r\n\r\n  const user = useSelector((state) => state.auth.user);\r\nconsole.log(\"video path\", currentLesson.newVideo)\r\nconsole.log(\"bulk \", currentLesson.isBulk)\r\n  const videoSources = (\r\n    (currentLesson.videoQualities &&\r\n      currentLesson.videoQualities.sort().reverse()) ||\r\n    []\r\n  ).map((vq) => {\r\n    console.log(\"verify old\" , vq)\r\n\r\n\r\n    return {\r\n \r\n      src: currentLesson.video.replace(\"playlist.m3u8\", vq + \"p.m3u8\"),\r\n      label: vq + \"P\",\r\n      //   selected: true,\r\n      type: \"application/x-mpegURL\",\r\n      withCredentials: false,\r\n    };\r\n  });\r\n  const videoSourcesNew = (\r\n    (currentLesson.videoQualities &&\r\n      currentLesson.videoQualities.sort().reverse()) ||\r\n    []\r\n  ).map((vq) => {\r\n   \r\n    if(vq=== \"360\"){\r\n      console.log(\"360\",currentLesson.newVideo.replace(\"playlist.m3u8\", \"playlist400K/400K.ts.m3u8\"))\r\n      return {\r\n        src: currentLesson.newVideo.replace(\"playlist.m3u8\", \"playlist400K/400K.ts.m3u8\"),\r\n        \r\n        // src: currentLesson.newVideo.replace(\"playlist.m3u8\", vq + \"p.m3u8\"),\r\n        label: vq + \"P\",\r\n        //   selected: true,\r\n        type: \"application/x-mpegURL\",\r\n        withCredentials: false,\r\n      };\r\n    }else if(vq=== \"480\"){\r\n      return {\r\n        \r\n        src: currentLesson.newVideo.replace(\"playlist.m3u8\",\"playlist1000K/1000K.ts.m3u8\"),\r\n        \r\n        // src: currentLesson.newVideo.replace(\"playlist.m3u8\", vq + \"p.m3u8\"),\r\n        label: vq + \"P\",\r\n        //   selected: true,\r\n        type: \"application/x-mpegURL\",\r\n        withCredentials: false,\r\n      };\r\n    }else if(vq=== \"720\"){\r\n      return {\r\n        src: currentLesson.newVideo.replace(\"playlist.m3u8\", \"playlist1.5M/1.5M.ts.m3u8\"),\r\n        \r\n        // src: currentLesson.newVideo.replace(\"playlist.m3u8\", vq + \"p.m3u8\"),\r\n        label: vq + \"P\",\r\n        //   selected: true,\r\n        type: \"application/x-mpegURL\",\r\n        withCredentials: false,\r\n      };\r\n    }else  if(vq=== \"1028\"){\r\n      return {\r\n        src: currentLesson.newVideo.replace(\"playlist.m3u8\", \"playlist2M/2M.ts.m3u8\"),\r\n        \r\n        // src: currentLesson.newVideo.replace(\"playlist.m3u8\", vq + \"p.m3u8\"),\r\n        label: vq + \"P\",\r\n        //   selected: true,\r\n        type: \"application/x-mpegURL\",\r\n        withCredentials: false,\r\n      };\r\n    }\r\n  });\r\n\r\n  ///save activity after 5 seconds\r\n  useEffect(() => {\r\n    activitySavingInterval = setInterval(() => {\r\n      if (!videoPlayerRef) return;\r\n      const duration = videoPlayerRef.getCurrentDuration();\r\n\r\n      dispatch(\r\n        saveActivity({\r\n          body: {\r\n            course: courseId,\r\n            lesson: lessonId,\r\n            duration,\r\n          },\r\n        })\r\n      );\r\n    }, 5000);\r\n\r\n    return () => {\r\n      if (activitySavingInterval) clearInterval(activitySavingInterval);\r\n    };\r\n  }, []);\r\n\r\n  const [popedQuizzes, setPoppedQuizes] = useState([]);\r\n  let quizPopupInterval = null;\r\n  useEffect(() => {\r\n    quizPopupInterval = setInterval(() => {\r\n      if (!videoPlayerRef) return;\r\n      if (videoPlayerRef.paused()) return;\r\n      const videoDuration = videoPlayerRef.getCurrentDuration();\r\n      const popUpTime = secondsToTime(videoDuration);\r\n\r\n      const quiz = currentLesson.quizzes.find((q) => {\r\n        return q.showInVideoTime === popUpTime;\r\n      });\r\n\r\n      if (quiz && popedQuizzes.findIndex((pq) => pq === quiz._id) === -1) {\r\n        popedQuizzes.push(quiz._id);\r\n        setPoppedQuizes(popedQuizzes);\r\n        videoPlayerRef.pause();\r\n        videoPlayerRef.exitFullScreen();\r\n\r\n        dispatch(setCurrentQuiz(quiz));\r\n        dispatch(setQuizModalVisibility(true));\r\n      }\r\n    }, 1000);\r\n    return () => {\r\n      clearInterval(quizPopupInterval);\r\n    };\r\n  }, []);\r\n\r\n  const onQuizComplete = () => {\r\n    dispatch(setQuizModalVisibility(false));\r\n    if (!videoPlayerRef) return;\r\n    videoPlayerRef.play();\r\n  };\r\n\r\n  let waterMarkText = \"\";\r\n\r\n  if (user) {\r\n    waterMarkText = `${user.firstName} ${user.lastName} (${user.email})`;\r\n  }\r\n\r\n  return (\r\n<>\r\n{currentLesson.isBulk===true ? (\r\n  <div className=\"w-100\">\r\n  <VideoPlayer\r\n    sources={videoSourcesNew}\r\n    // sources={currentLesson.newVideo.replace(\"playlist.m3u8\", \"playlist400K/400K.ts.m3u8\")}\r\n    \r\n    ref={(ref) => {\r\n      videoPlayerRef = ref;\r\n    }}\r\n    playbackRates={[0.75, 1, 1.25, 1.5, 1.75]}\r\n    waterMarkText={waterMarkText}\r\n    captions={currentLesson.videoCaptions}\r\n    onVideoEnd={() => {\r\n      try {\r\n        if (moveToNextLesson) moveToNextLesson();\r\n\r\n        dispatch(\r\n          markVideoWatched({\r\n            body: { course: courseId, lesson: lessonId },\r\n            onError: () => {},\r\n          })\r\n        );\r\n        if (setWatched) setWatched({ courseId, lessonId });\r\n      } catch (err) {\r\n        console.log(\"VIDEO END ERR\", err);\r\n      }\r\n    }}\r\n    onPrev={() => {\r\n      if (moveToPrevLesson) moveToPrevLesson();\r\n    }}\r\n    onNext={() => {\r\n      if (moveToNextLesson) moveToNextLesson();\r\n    }}\r\n  />\r\n  <QuizModal onComplete={onQuizComplete} />\r\n</div>\r\n):(\r\n<div className=\"w-100\">\r\n      <VideoPlayer\r\n        sources={videoSources}\r\n        // sources={currentLesson.newVideo.replace(\"playlist.m3u8\", \"playlist400K/400K.ts.m3u8\")}\r\n        \r\n        ref={(ref) => {\r\n          videoPlayerRef = ref;\r\n        }}\r\n        playbackRates={[0.75, 1, 1.25, 1.5, 1.75]}\r\n        waterMarkText={waterMarkText}\r\n        captions={currentLesson.videoCaptions}\r\n        onVideoEnd={() => {\r\n          try {\r\n            if (moveToNextLesson) moveToNextLesson();\r\n\r\n            dispatch(\r\n              markVideoWatched({\r\n                body: { course: courseId, lesson: lessonId },\r\n                onError: () => {},\r\n              })\r\n            );\r\n            if (setWatched) setWatched({ courseId, lessonId });\r\n          } catch (err) {\r\n            console.log(\"VIDEO END ERR\", err);\r\n          }\r\n        }}\r\n        onPrev={() => {\r\n          if (moveToPrevLesson) moveToPrevLesson();\r\n        }}\r\n        onNext={() => {\r\n          if (moveToNextLesson) moveToNextLesson();\r\n        }}\r\n      />\r\n      <QuizModal onComplete={onQuizComplete} />\r\n    </div>\r\n)}\r\n\r\n\r\n</>\r\n  );\r\n};\r\n\r\nconst secondsToTime = (seconds = 0) => {\r\n  const date = new Date(0);\r\n  date.setSeconds(seconds);\r\n  return date.toISOString().substr(11, 8);\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport loadable from \"@loadable/component\";\r\nimport renderHTML from \"react-render-html\";\r\nimport ReactStars from \"react-rating-stars-component\";\r\nimport tickboxImage from \"../assets/img/tick.png\";\r\nimport {\r\n  loadFullCourse,\r\n  addCourseReview,\r\n  loadReviews,\r\n  deleteReview,\r\n  setFeedbackAsked,\r\n} from \"../store/api/courses\";\r\nimport { addItemToCartApi } from \"../store/api/cart\";\r\nimport { addCourseFeedback } from \"../store/api/courseFeedbacks\";\r\n\r\nimport LessonCard from \"./Course/LessonCard\";\r\nimport { Accordion, Card, Modal, Button } from \"react-bootstrap\";\r\nimport {\r\n  setLoginModalClosable,\r\n  setLoginModalVisibility,\r\n} from \"../store/ui/loginModal\";\r\nimport { setRegisterModalClosable } from \"../store/ui/registerModal\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport TextError from \"../shared/TextError\";\r\nimport moment from \"moment\";\r\nimport { formatPrice } from \"../helpers/priceFormater\";\r\nimport ForumThreads from \"./Course/ForumThreads\";\r\nimport ShareLink from \"../components/ShareLink\";\r\nimport http from \"../services/http\";\r\nimport { setCoursePageData } from \"../store/ui/coursePage\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport storage from \"../services/storage\";\r\n\r\n// import { MDBCarousel, MDBCarouselInner, MDBCarouselItem, MDBView, MDBContainer } from\r\n// \"mdbreact\";\r\n\r\nconst Testimonials = loadable(() => import(\"../components/Testimonial\"), {\r\n  ssr: false,\r\n});\r\nconst CourseImagesSlider = loadable(\r\n  () => import(\"../components/CourseImagesSlider\"),\r\n  {\r\n    ssr: false,\r\n  }\r\n);\r\n\r\nconst CoursePage = (props) => {\r\n  const { courseId, lessonId } = props.match.params;\r\n\r\n  const dispatch = useDispatch();\r\n  //tabs\r\n  const [detailTab, setDetailTab] = useState(\"Videos\");\r\n\r\n  const cart = useSelector((state) => state.entities.cart);\r\n  const authToken = useSelector((state) => state.auth.token);\r\n  const user = useSelector((state) => state.auth.user);\r\n  const [list, setList] = useState([]);\r\n\r\n  const [feedbackModalVisibility, setFeedbackModalVisibility] = useState(false);\r\n\r\n  const [traits, setTraits] = useState(\"\");\r\n  const courseData = useSelector((state) => state.ui.coursePage.data);\r\n  // const lessId = useSelector(\r\n  //   (state) => state.entities.courses[0].list[].lesson[0].slug\r\n  // );\r\n\r\n  // console.log(\"lesson list\", list);\r\n\r\n  //currentCourse\r\n  const [currentCourse, setCurrentCourse] = useState({\r\n    _id: \"\",\r\n    name: \"\",\r\n    price: 0,\r\n    description: \"\",\r\n    rating: 0,\r\n    totalRatingCount: \"\",\r\n    duration: \"\",\r\n    videoDuration: \"\",\r\n    lectures: \"\",\r\n    teachers: [],\r\n    chapters: [],\r\n    category: {\r\n      name: \"\",\r\n    },\r\n    traits: [],\r\n    language: {\r\n      name: \"\",\r\n    },\r\n    skillLevel: {\r\n      name: \"\",\r\n    },\r\n    feedbackAsked: false,\r\n    startingVideoId: \"\",\r\n    isEnrolled: false,\r\n    enrolledChapters: [],\r\n    watchedVideos: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    dispatch(\r\n      loadFullCourse({\r\n        id: courseId,\r\n        onSuccess: (res) => {\r\n          if (res.data.data.chapters[0].lessons) {\r\n            setList(res.data.data.chapters[0].lessons);\r\n          }\r\n\r\n          if (lessonId) {\r\n            if (\r\n              !authToken &&\r\n              res.data.data.chapters &&\r\n              res.data.data.chapters[0] &&\r\n              res.data.data.chapters[0].lessons &&\r\n              res.data.data.chapters[0].lessons[0] &&\r\n              !(\r\n                res.data.data.chapters[0].lessons[0]._id === lessonId ||\r\n                res.data.data.chapters[0].lessons[0].slug === lessonId\r\n              )\r\n            ) {\r\n              dispatch(setLoginModalVisibility(true));\r\n              dispatch(setLoginModalClosable(false));\r\n              dispatch(setRegisterModalClosable(false));\r\n            }\r\n            let currentChapterId = \"\";\r\n            res.data.data.chapters;\r\n            for (let i = 0; i < res.data.data.chapters.length; ++i) {\r\n              const ch = res.data.data.chapters[i];\r\n              if (ch) {\r\n                for (let j = 0; j < ch.lessons.length; ++j) {\r\n                  const le = ch.lessons[j];\r\n\r\n                  if (le._id === lessonId) {\r\n                    currentChapterId = ch._id;\r\n                    break;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            setSelectedAccordian(currentChapterId);\r\n          }\r\n\r\n          setCurrentCourse(res.data.data);\r\n\r\n          //loading reviews\r\n          dispatch(\r\n            loadReviews({\r\n              id: res.data.data._id,\r\n              onSuccess: (res) => {\r\n                setReviews(res.data.data);\r\n              },\r\n            })\r\n          );\r\n        },\r\n      })\r\n    );\r\n  }, [props]);\r\n\r\n  useEffect(() => {\r\n    if (currentCourse.feedbackAsked) return;\r\n    if (!currentCourse.watchedVideos) return;\r\n    if (currentCourse.watchedVideos.length < 5) return;\r\n    setFeedbackModalVisibility(true);\r\n    dispatch(setFeedbackAsked({ id: currentCourse._id }));\r\n  }, [currentCourse.watchedVideos]);\r\n\r\n  const moveToPrevLesson = () => {\r\n    const tkn = storage.get(\"xAuthToken\");\r\n    if (!tkn) {\r\n      dispatch(setLoginModalVisibility(true));\r\n      dispatch(setLoginModalClosable(false));\r\n      dispatch(setRegisterModalClosable(false));\r\n    }\r\n    let currentLessonIndex = -1;\r\n    let prevLessonIndex = -1;\r\n\r\n    let currentChapterIndex = -1;\r\n    let prevChapterIndex = -1;\r\n\r\n    const { chapters } = currentCourse;\r\n\r\n    chapters.forEach((chap, chapIndex) => {\r\n      if (!chap.lessons) chap.lessons = [];\r\n      for (let i = 0; i < chap.lessons.length; ++i) {\r\n        if (chap.lessons[i]) {\r\n          //\r\n\r\n          if (chap.lessons[i]._id === lessonId) {\r\n            ///chap\r\n            currentChapterIndex = chapIndex;\r\n            prevChapterIndex = chapIndex - 1;\r\n            ////// lesson\r\n            currentLessonIndex = i;\r\n            prevLessonIndex = i - 1;\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    if (\r\n      currentLessonIndex < 0 ||\r\n      // prevLessonIndex < 0 ||\r\n      currentChapterIndex < 0\r\n      // prevChapterIndex < 0\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    const currentChap = chapters[currentChapterIndex];\r\n    const prevChap = chapters[prevChapterIndex];\r\n\r\n    let prevLesson = currentChap.lessons[prevLessonIndex];\r\n\r\n    if (!prevLesson) {\r\n      if (prevChap) prevLesson = prevChap.lessons[0];\r\n    }\r\n\r\n    if (!prevLesson) return;\r\n\r\n    props.history.push(`/course/${courseId}/${prevLesson._id}`);\r\n  };\r\n\r\n  const moveToNextLesson = () => {\r\n    const tkn = storage.get(\"xAuthToken\");\r\n    if (!tkn) {\r\n      dispatch(setLoginModalVisibility(true));\r\n      dispatch(setLoginModalClosable(false));\r\n      dispatch(setRegisterModalClosable(false));\r\n    }\r\n    let currentLessonIndex = -1;\r\n    let nextLessonIndex = -1;\r\n\r\n    let currentChapterIndex = -1;\r\n    let nextChapterIndex = -1;\r\n\r\n    const { chapters } = currentCourse;\r\n\r\n    chapters.forEach((chap, chapIndex) => {\r\n      if (!chap.lessons) chap.lessons = [];\r\n\r\n      for (let i = 0; i < chap.lessons.length; ++i) {\r\n        if (chap.lessons[i]) {\r\n          if (\r\n            chap.lessons[i]._id === lessonId ||\r\n            chap.lessons[i].slug === lessonId\r\n          ) {\r\n            ///chap\r\n            currentChapterIndex = chapIndex;\r\n            nextChapterIndex = chapIndex + 1;\r\n            ////// lesson\r\n            currentLessonIndex = i;\r\n            nextLessonIndex = i + 1;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    });\r\n    if (\r\n      currentLessonIndex < 0 ||\r\n      nextLessonIndex < 0 ||\r\n      currentChapterIndex < 0 ||\r\n      nextChapterIndex < 0\r\n    ) {\r\n      return;\r\n    }\r\n    const currentChap = chapters[currentChapterIndex];\r\n    const nextChap = chapters[nextChapterIndex];\r\n\r\n    let nextLesson = currentChap.lessons[nextLessonIndex];\r\n\r\n    if (!nextLesson) {\r\n      if (nextChap) nextLesson = nextChap.lessons[0];\r\n    }\r\n\r\n    if (!nextLesson) return;\r\n\r\n    console.log(\"NEXT LEsson => \", nextLesson);\r\n\r\n    props.history.push(`/course/${courseId}/${nextLesson._id}`);\r\n  };\r\n\r\n  const renderHeaders = () => {\r\n    return (\r\n      <section className=\"other_banner\">\r\n        <div className=\"container\">\r\n          <h1>{currentCourse.name}</h1>\r\n\r\n          <nav aria-label=\"breadcrumb\">\r\n            <ol className=\"breadcrumb\">\r\n              <li className=\"breadcrumb-item\">\r\n                <Link to=\"/\">Home</Link>\r\n              </li>\r\n              <li className=\"breadcrumb-item\">\r\n                <Link to=\"/all-courses/\">Courses</Link>\r\n              </li>\r\n              <li className=\"breadcrumb-item\">\r\n                <Link to={\"/all-courses/\" + currentCourse.category._id}>\r\n                  {currentCourse.category.name}\r\n                </Link>\r\n              </li>\r\n              <li className=\"breadcrumb-item active\">{currentCourse.name}</li>\r\n            </ol>\r\n          </nav>\r\n          {/* <nav aria-label=\"breadcrumb\">\r\n            <ol className=\"breadcrumb\">\r\n              <li className=\"breadcrumb-item\">\r\n                <a href=\"index.html\">Home</a>\r\n              </li>\r\n              <li className=\"breadcrumb-item\">\r\n                <a href=\"courses.html\">Courses</a>\r\n              </li>\r\n              <li className=\"breadcrumb-item\">\r\n                <a href=\"courses-detail.html\">Marketing</a>\r\n              </li>\r\n              <li className=\"breadcrumb-item active\">Improve editing skills</li>\r\n            </ol>\r\n          </nav> */}\r\n        </div>\r\n      </section>\r\n    );\r\n  };\r\n\r\n  const renderCourseImageSlider = () => {\r\n    return (\r\n      <div>\r\n        {list.length > 0 && (\r\n          <Link to={`/course/${currentCourse.slug}/${list[0].slug}`}>\r\n            <CourseImagesSlider\r\n              // firstLesson={}\r\n              images={currentCourse.images || [{ image: currentCourse.image }]}\r\n            />\r\n          </Link>\r\n        )}\r\n\r\n        <ShareLink\r\n          shareLink={\"https://www.out-class.org/course/\" + currentCourse.slug}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n  const renderDetailTabs = () => {\r\n    const tabs = [\r\n      \"Videos\",\r\n      \"Overview\",\r\n      \"Instructor\",\r\n      //  \"Reviews\",\r\n      //  \"Forum\"\r\n    ];\r\n\r\n    if (currentCourse.showReviews) {\r\n      tabs.push(\"Reviews\");\r\n    }\r\n    if (currentCourse.isEnrolled) {\r\n      tabs[tabs.length] = \"Forum\";\r\n    }\r\n    return (\r\n      <ul className=\"nav nav-tabs\" id=\"CoursesTab\" role=\"tablist\">\r\n        {tabs.map((tab) => {\r\n          return (\r\n            <li className=\"nav-item\" role=\"presentation\">\r\n              <a\r\n                className={detailTab === tab ? \"nav-link active\" : \"nav-link\"}\r\n                id=\"Overview-tab\"\r\n                data-toggle=\"tab\"\r\n                role=\"tab\"\r\n                aria-controls=\"Overview\"\r\n                aria-selected=\"true\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  setDetailTab(tab);\r\n                }}\r\n              >\r\n                {tab}\r\n              </a>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    );\r\n  };\r\n\r\n  const renderOverViewTabContent = () => {\r\n    return <div className=\"p-3\">{renderHTML(currentCourse.description)}</div>;\r\n  };\r\n\r\n  const [selectedAccordian, setSelectedAccordian] = useState(\"\");\r\n  const renderVideos = () => {\r\n    const cartCourse = cart.items.find((itm) => {\r\n      return itm.course && itm.course._id === currentCourse._id;\r\n    });\r\n\r\n    let cartChapterIds = [];\r\n    if (cartCourse) {\r\n      cartChapterIds = cartCourse.chapters.map((c) => c._id);\r\n    }\r\n    return (\r\n      <div\r\n        className=\"tab-pane active show\"\r\n        id=\"Videos\"\r\n        role=\"tabpanel\"\r\n        aria-labelledby=\"Curriculum-tab\"\r\n      >\r\n        {currentCourse.chapters.length > 0 && (\r\n          <div className=\"Videos\">\r\n            <Accordion defaultActiveKey={\"0\"} id=\"ChapterOfCourses\">\r\n              {currentCourse.chapters.map((chap, chapterIndex) => {\r\n                const isInCart = cartChapterIds.includes(chap._id);\r\n                return (\r\n                  <Card\r\n                    key={`${chap._id}`}\r\n                    className={\r\n                      selectedAccordian === chapterIndex\r\n                        ? \"active mb-2\"\r\n                        : \"mb-2\"\r\n                    }\r\n                  >\r\n                    <Accordion.Toggle\r\n                      className=\"card-header\"\r\n                      id=\"headingOne\"\r\n                      eventKey={`${chapterIndex}`}\r\n                      onClick={(e) => {\r\n                        e.preventDefault();\r\n                        // window.scrollTo(20.2, 0);\r\n                        setSelectedAccordian(`${chapterIndex}`);\r\n                      }}\r\n                    >\r\n                      <h2 className=\"mb-0\">\r\n                        <button\r\n                          className=\"btn btn-block text-left collapsed\"\r\n                          type=\"button\"\r\n                        >\r\n                          {/* Chapter {chapterIndex + 1} */}\r\n                          <span className=\"py-2\">{chap.name}</span>\r\n                        </button>\r\n\r\n                        {!(currentCourse.enrolledChapters || []).includes(\r\n                          chap._id\r\n                        ) ? (\r\n                          <a\r\n                            onClick={(e) => {\r\n                              if (!chap.price) return;\r\n                              e.stopPropagation(); //prevents click event to propagate to accordian.\r\n\r\n                              const tkn = storage.get(\"xAuthToken\");\r\n                              if (!tkn) {\r\n                                dispatch(setLoginModalVisibility(true));\r\n                                dispatch(setLoginModalClosable(false));\r\n                                dispatch(setRegisterModalClosable(false));\r\n                                return;\r\n                              }\r\n\r\n                              dispatch(\r\n                                addItemToCartApi({\r\n                                  body: {\r\n                                    course: currentCourse._id,\r\n                                    chapters: [chap._id],\r\n                                    completeCourse: false,\r\n                                  },\r\n                                })\r\n                              );\r\n                            }}\r\n                            className={isInCart ? \"price bg-success\" : \"price\"}\r\n                          >\r\n                            {chap.price\r\n                              ? \"Rs. \" + formatPrice(chap.price)\r\n                              : \"Free\"}{\" \"}\r\n                            {chap.price ? (\r\n                              <span className=\"ml-2\">\r\n                                <i className=\"fal fa-shopping-cart\"></i>\r\n                              </span>\r\n                            ) : null}\r\n                          </a>\r\n                        ) : (\r\n                          <a className=\"price bg-warning\">Enrolled</a>\r\n                        )}\r\n                        {/* watchedVideos */}\r\n                      </h2>\r\n                    </Accordion.Toggle>\r\n                    <Accordion.Collapse eventKey={`${chapterIndex}`}>\r\n                      <Card.Body>\r\n                        <div>\r\n                          {chap.description && renderHTML(chap.description)}\r\n                        </div>\r\n                        <table className=\"table course_detail\">\r\n                          <tbody>\r\n                            {chap.lessons.map((lesson, lessonIndex) => {\r\n                              let watched = currentCourse.watchedVideos.find(\r\n                                (w) => {\r\n                                  return w.lesson === lesson._id;\r\n                                }\r\n                              );\r\n\r\n                              if (\r\n                                lessonId === lesson._id &&\r\n                                selectedAccordian != chapterIndex\r\n                              ) {\r\n                                setSelectedAccordian(`${chapterIndex}`);\r\n                              }\r\n                              let lessonIcon = watched\r\n                                ? \"fas fa-play\"\r\n                                : \"far fa-play\";\r\n                              switch (lesson.type) {\r\n                                case \"quiz\":\r\n                                  lessonIcon = \"far fa-comment\";\r\n                              }\r\n\r\n                              return (\r\n                                <tr\r\n                                  key={\r\n                                    lesson._id +\r\n                                    \"course page lesson\" +\r\n                                    lessonIndex\r\n                                  }\r\n                                >\r\n                                  <div className=\"position-relative\">\r\n                                    <Link\r\n                                      to={`/course/${currentCourse.slug}/${lesson.slug}`}\r\n                                    >\r\n                                      <th style={{ width: \"40px\" }}>\r\n                                        <i className={lessonIcon}></i>\r\n                                      </th>\r\n                                      <th className=\"text-dark text-decoration-none\">\r\n                                        {lesson.name}\r\n                                      </th>\r\n                                      {/* <th>\r\n                                        qweqweqweqwx\r\n                                      </th> */}\r\n\r\n                                      <th>\r\n                                        {watched && (\r\n                                          <span\r\n                                            className=\"badge badge-dark mr-2\"\r\n                                            style={{\r\n                                              position: \"absolute\",\r\n                                              top: \"15px\",\r\n                                              right:\r\n                                                lesson.accessibility !== \"paid\"\r\n                                                  ? \"45px\"\r\n                                                  : \"15px\",\r\n                                            }}\r\n                                          >\r\n                                            watched\r\n                                          </span>\r\n                                        )}\r\n                                        {lesson.accessibility !== \"paid\" && (\r\n                                          <span\r\n                                            className=\"badge badge-info mr-2\"\r\n                                            style={{\r\n                                              position: \"absolute\",\r\n                                              top: \"15px\",\r\n                                              right: \"5px\",\r\n                                            }}\r\n                                          >\r\n                                            Free\r\n                                          </span>\r\n                                        )}\r\n                                      </th>\r\n                                    </Link>\r\n                                    {console.log(\"leeee=========>>\", lesson)}\r\n                                    {lesson.quiz ? (\r\n                                      <>\r\n                                     {lesson.quiz.doc.length ? (\r\n                                       <div className=\"pdf-lessons\">\r\n                                       <p className=\"pdf-name\">{lesson.quiz.pdfName}</p>\r\n                                       <p className=\"pdf-desc\">{lesson.quiz.desc}</p>\r\n                                       <a className=\"pdf-download\" href={lesson.quiz.doc}>Download PDF</a>\r\n                                     </div>\r\n                                     ):(\r\n                                      null\r\n                                     )} \r\n                                    </>\r\n                                    ):(\r\n                                      null\r\n                                    )}\r\n                                   \r\n                            \r\n                                  </div>\r\n                                </tr>\r\n                              );\r\n                            })}\r\n                          </tbody>\r\n                        </table>\r\n                      </Card.Body>\r\n                    </Accordion.Collapse>\r\n                  </Card>\r\n                );\r\n              })}\r\n            </Accordion>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderInstructors = () => {\r\n    return (\r\n      <div className=\"instructor\">\r\n        <div className=\"card\">\r\n          {currentCourse.teachers.map((teacher, teacherIndex) => {\r\n            return (\r\n              <div className=\"card-body\">\r\n                <div className=\"left_block\">\r\n                  <img src={teacher.image} alt=\"\" className=\"img-fluid\" />\r\n                </div>\r\n                <div className=\"right_block\">\r\n                  <h5>{`${teacher.firstName} ${teacher.lastName}`}</h5>\r\n\r\n                  <div className=\"py-3\">\r\n                    {renderHTML(teacher.introduction || \"\")}\r\n                  </div>\r\n                  <div className=\"row social\">\r\n                    {teacher.twitterLink && (\r\n                      <a href={teacher.twitterLink} target=\"_blank\">\r\n                        <i className=\"fab fa-twitter\"></i>\r\n                      </a>\r\n                    )}\r\n                    {teacher.facebookLink && (\r\n                      <a href={teacher.facebookLink} target=\"_blank\">\r\n                        <i className=\"fab fa-facebook\"></i>\r\n                      </a>\r\n                    )}\r\n\r\n                    {teacher.linkedInLink && (\r\n                      <a href={teacher.linkedInLink} target=\"_blank\">\r\n                        <i className=\"fab fa-linkedin\"></i>\r\n                      </a>\r\n                    )}\r\n                    {teacher.googleLink && (\r\n                      <a href={teacher.googleLink} target=\"_blank\">\r\n                        <i className=\"fab fa-google\"></i>\r\n                      </a>\r\n                    )}\r\n\r\n                    {teacher.youtubeLink && (\r\n                      <a href={teacher.youtubeLink} target=\"_blank\">\r\n                        <i className=\"fab fa-youtube\"></i>\r\n                      </a>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const [reviews, setReviews] = useState([]);\r\n\r\n  const deleteCourseReview = (id, index) => {\r\n    const conf = window.confirm(\"Are you sure you want to delete?\");\r\n    if (!conf) return;\r\n    dispatch(\r\n      deleteReview({\r\n        id,\r\n        onSuccess: () => {\r\n          const newReviews = [...reviews];\r\n          newReviews.splice(index, 1);\r\n          setReviews(newReviews);\r\n        },\r\n      })\r\n    );\r\n  };\r\n  const renderReviews = () => {\r\n    return (\r\n      <div className=\"review\">\r\n        <div className=\"review_score\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-8 col-md-8 col-12 align-self-center\">\r\n              <div className=\"prgress_cover\">\r\n                <p className=\"progress-label\">Excellent</p>\r\n                <div className=\"progress\">\r\n                  <div\r\n                    className=\"progress-bar progress-bar-info\"\r\n                    role=\"progressbar\"\r\n                    aria-valuenow=\"20\"\r\n                    aria-valuemin=\"0\"\r\n                    aria-valuemax=\"100\"\r\n                    style={{\r\n                      width: `${\r\n                        currentCourse.fiveStar !== 0\r\n                          ? (currentCourse.fiveStar /\r\n                              currentCourse.totalRatingCount) *\r\n                            100\r\n                          : 0\r\n                      }%`,\r\n                    }}\r\n                  >\r\n                    <span></span>\r\n                  </div>\r\n                </div>\r\n                <p className=\"progress-percentage\">\r\n                  {currentCourse.fiveStar || 0}\r\n                </p>\r\n                <div className=\"clearfix\"></div>\r\n              </div>\r\n              <div className=\"prgress_cover\">\r\n                <p className=\"progress-label\">Very Good</p>\r\n                <div className=\"progress\">\r\n                  <div\r\n                    className=\"progress-bar progress-bar-info\"\r\n                    role=\"progressbar\"\r\n                    aria-valuenow=\"20\"\r\n                    aria-valuemin=\"0\"\r\n                    aria-valuemax=\"100\"\r\n                    style={{\r\n                      width: `${\r\n                        currentCourse.fourStar !== 0\r\n                          ? (currentCourse.fourStar /\r\n                              currentCourse.totalRatingCount) *\r\n                            100\r\n                          : 0\r\n                      }%`,\r\n                    }}\r\n                  >\r\n                    <span></span>\r\n                  </div>\r\n                </div>\r\n                <p className=\"progress-percentage\">\r\n                  {currentCourse.fourStar || 0}\r\n                </p>\r\n                <div className=\"clearfix\"></div>\r\n              </div>\r\n              <div className=\"prgress_cover\">\r\n                <p className=\"progress-label\">Average</p>\r\n                <div className=\"progress\">\r\n                  <div\r\n                    className=\"progress-bar progress-bar-info\"\r\n                    role=\"progressbar\"\r\n                    aria-valuenow=\"20\"\r\n                    aria-valuemin=\"0\"\r\n                    aria-valuemax=\"100\"\r\n                    style={{\r\n                      width: `${\r\n                        currentCourse.threeStar !== 0\r\n                          ? (currentCourse.threeStar /\r\n                              currentCourse.totalRatingCount) *\r\n                            100\r\n                          : 0\r\n                      }%`,\r\n                    }}\r\n                  >\r\n                    <span></span>\r\n                  </div>\r\n                </div>\r\n                <p className=\"progress-percentage\">\r\n                  {currentCourse.threeStar || 0}\r\n                </p>\r\n                <div className=\"clearfix\"></div>\r\n              </div>\r\n              <div className=\"prgress_cover\">\r\n                <p className=\"progress-label\">Poor</p>\r\n                <div className=\"progress\">\r\n                  <div\r\n                    className=\"progress-bar progress-bar-info\"\r\n                    role=\"progressbar\"\r\n                    aria-valuenow=\"20\"\r\n                    aria-valuemin=\"0\"\r\n                    aria-valuemax=\"100\"\r\n                    style={{\r\n                      width: `${\r\n                        currentCourse.twoStar !== 0\r\n                          ? (currentCourse.twoStar /\r\n                              currentCourse.totalRatingCount) *\r\n                            100\r\n                          : 0\r\n                      }%`,\r\n                    }}\r\n                  >\r\n                    <span></span>\r\n                  </div>\r\n                </div>\r\n                <p className=\"progress-percentage\">\r\n                  {currentCourse.twoStar || 0}\r\n                </p>\r\n                <div className=\"clearfix\"></div>\r\n              </div>\r\n              <div className=\"prgress_cover\">\r\n                <p className=\"progress-label\">Terrible</p>\r\n                <div className=\"progress\">\r\n                  <div\r\n                    className=\"progress-bar progress-bar-info\"\r\n                    role=\"progressbar\"\r\n                    aria-valuenow=\"20\"\r\n                    aria-valuemin=\"0\"\r\n                    aria-valuemax=\"100\"\r\n                    style={{\r\n                      width: `${\r\n                        currentCourse.oneStar !== 0\r\n                          ? (currentCourse.oneStar /\r\n                              currentCourse.totalRatingCount) *\r\n                            100\r\n                          : 0\r\n                      }%`,\r\n                    }}\r\n                  >\r\n                    <span></span>\r\n                  </div>\r\n                </div>\r\n                <p className=\"progress-percentage\">\r\n                  {currentCourse.oneStar || 0}\r\n                </p>\r\n                <div className=\"clearfix\"></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-4 col-md-4 col-12\">\r\n              <div className=\"square\">\r\n                <div className=\"content\">\r\n                  <div className=\"circle w-100 h-100\">\r\n                    <div className=\"circle-body\">\r\n                      <h3>{currentCourse.rating}</h3>\r\n                      <p>\r\n                        <ReactStars\r\n                          count={5}\r\n                          value={currentCourse.rating || 0}\r\n                          edit={false}\r\n                          size={16}\r\n                          isHalf={true}\r\n                          emptySymbol=\"fa fa-star-o\"\r\n                          fullSymbol=\"fa fa-star\"\r\n                          emptyIcon={<i className=\"far fa-star\"></i>}\r\n                          halfIcon={<i className=\"fa fa-star-half-alt\"></i>}\r\n                          filledIcon={<i className=\"fa fa-star\"></i>}\r\n                          activeColor=\"#f16101\"\r\n                          fractions={2}\r\n                        />\r\n                        {currentCourse.totalRatingCount} reviews\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {reviews.map((rev, revIndex) => {\r\n          return (\r\n            <div className=\"posted_reviews\" key={`${rev._id}-${revIndex}`}>\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-body position-relative\">\r\n                      {user && user.role === \"ADMIN\" && (\r\n                        <button\r\n                          className=\"btn btn-danger\"\r\n                          onClick={() => {\r\n                            deleteCourseReview(rev._id, revIndex);\r\n                          }}\r\n                          style={{\r\n                            position: \"absolute\",\r\n                            right: \"5px\",\r\n                            top: \"5px\",\r\n                          }}\r\n                        >\r\n                          delete\r\n                        </button>\r\n                      )}\r\n                      <div className=\"left_block\">\r\n                        <img\r\n                          src={rev.user.image}\r\n                          alt=\"\"\r\n                          className=\"img-fluid\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"right_block\">\r\n                        <h5>{rev.user.firstName + \" \" + rev.user.lastName}</h5>\r\n                        <p>\r\n                          {moment(rev.createdAt).format(\"D MMMM, YYYY\")}\r\n                          <span className=\"star\">\r\n                            <ReactStars\r\n                              count={5}\r\n                              value={rev.rating || 0}\r\n                              edit={false}\r\n                              size={16}\r\n                              isHalf={true}\r\n                              emptySymbol=\"fa fa-star-o\"\r\n                              fullSymbol=\"fa fa-star\"\r\n                              emptyIcon={<i className=\"far fa-star\"></i>}\r\n                              halfIcon={<i className=\"fa fa-star-half-alt\"></i>}\r\n                              filledIcon={<i className=\"fa fa-star\"></i>}\r\n                              activeColor=\"#f16101\"\r\n                              fractions={2}\r\n                            />\r\n                          </span>\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <p>{rev.message}</p>\r\n            </div>\r\n          );\r\n        })}\r\n\r\n        <div className=\"add_review\">\r\n          <Formik\r\n            initialValues={{ rating: 0, name: \"\", email: \"\", message: \"\" }}\r\n            validationSchema={Yup.object({\r\n              name: Yup.string().required(\"First Name is required\"),\r\n              email: Yup.string()\r\n                .email(\"Email is not valid.\")\r\n                .required(\"Email is required.\"),\r\n              message: Yup.string().required(\"Message is required.\"),\r\n              rating: Yup.number()\r\n                .min(1, \"Give a rating.\")\r\n                .required(\"Rating is required.\"),\r\n            })}\r\n            onSubmit={(values) => {\r\n              dispatch(\r\n                addCourseReview({\r\n                  id: currentCourse._id,\r\n                  body: values,\r\n                  onSuccess: (res) => {\r\n                    for (let key in res.data.data.course)\r\n                      currentCourse[key] = res.data.data.course[key];\r\n\r\n                    const { courseReview } = res.data.data;\r\n                    setReviews([\r\n                      courseReview,\r\n                      ...reviews.filter((r) => {\r\n                        return r.user._id !== courseReview.user._id;\r\n                      }),\r\n                    ]);\r\n                    setCurrentCourse({ ...currentCourse });\r\n                    alert(\"Review Added\");\r\n                  },\r\n                })\r\n              );\r\n            }}\r\n          >\r\n            {({ values, errors, touched, setFieldValue }) => {\r\n              return (\r\n                <Form>\r\n                  <h2>Leave a Comment</h2>\r\n                  Add a review\r\n                  <ReactStars\r\n                    count={5}\r\n                    value={values.rating}\r\n                    size={16}\r\n                    emptySymbol=\"fa fa-star-o\"\r\n                    fullSymbol=\"fa fa-star\"\r\n                    emptyIcon={<i className=\"far fa-star\"></i>}\r\n                    halfIcon={<i className=\"fa fa-star-half-alt\"></i>}\r\n                    filledIcon={<i className=\"fa fa-star\"></i>}\r\n                    activeColor=\"#f16101\"\r\n                    fractions={1}\r\n                    onChange={(r) => {\r\n                      setFieldValue(\"rating\", r);\r\n                    }}\r\n                  />\r\n                  {values.rating && touched.rating ? (\r\n                    <p\r\n                      style={{\r\n                        color: \"red\",\r\n                        fontSize: \"13px\",\r\n                      }}\r\n                    >\r\n                      {errors.rating}\r\n                    </p>\r\n                  ) : null}\r\n                  <section className=\"content\">\r\n                    <div className=\"contact_form text-left\">\r\n                      <div className=\"form_contact  text-left\">\r\n                        <div className=\"row\">\r\n                          <div className=\"col-lg-6 col-md-6 col-12\">\r\n                            <div className=\"form-group\">\r\n                              <Field\r\n                                type=\"text\"\r\n                                name=\"name\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Name *\"\r\n                              />\r\n                              <ErrorMessage name=\"name\" component={TextError} />\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"col-lg-6 col-md-6 col-12\">\r\n                            <div className=\"form-group\">\r\n                              <Field\r\n                                type=\"email\"\r\n                                name=\"email\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Email *\"\r\n                              />\r\n                              <ErrorMessage\r\n                                name=\"email\"\r\n                                component={TextError}\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"col-12\">\r\n                            <div className=\"form-group mb-3\">\r\n                              <textarea\r\n                                className=\"form-control\"\r\n                                rows=\"7\"\r\n                                placeholder=\"Write Message\"\r\n                                name=\"message\"\r\n                                onChange={(e) => {\r\n                                  const value = e.target.value;\r\n                                  setFieldValue(\"message\", value);\r\n                                }}\r\n                              ></textarea>\r\n\r\n                              <ErrorMessage\r\n                                name=\"message\"\r\n                                component={TextError}\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <input\r\n                          type=\"submit\"\r\n                          className=\"btn more\"\r\n                          value=\"Leave a Review\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </section>\r\n                </Form>\r\n              );\r\n            }}\r\n          </Formik>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderForum = () => {\r\n    return currentCourse.slug && <ForumThreads courseId={currentCourse._id} />;\r\n  };\r\n\r\n  const renderCourseDetails = () => {\r\n    return (\r\n      <div className=\"col-lg-3 col-12\">\r\n        <div className=\"course_price_table\">\r\n          {!currentCourse.isEnrolled && (\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <span>Course price</span>\r\n                <h4>Rs. {formatPrice(currentCourse.price)}</h4>\r\n                <a\r\n                  className=\"btn more\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation(); //prevents click event to propagate to accordian.\r\n\r\n                    const tkn = storage.get(\"xAuthToken\");\r\n                    if (!tkn) {\r\n                      dispatch(setLoginModalVisibility(true));\r\n                      dispatch(setLoginModalClosable(false));\r\n                      dispatch(setRegisterModalClosable(false));\r\n                      return;\r\n                    }\r\n                    dispatch(\r\n                      addItemToCartApi({\r\n                        body: {\r\n                          course: currentCourse._id,\r\n                          chapters: currentCourse.chapters.map(\r\n                            (chap) => chap._id\r\n                          ),\r\n                          completeCourse: true,\r\n                        },\r\n                      })\r\n                    );\r\n                    props.history.push(\"/cart\");\r\n                  }}\r\n                >\r\n                  Buy 1 Year Access\r\n                </a>\r\n              </div>\r\n            </div>\r\n          )}\r\n          <ul className=\"list-group\">\r\n            <li className=\"list-group-item\">\r\n              <i className=\"fas fa-clock\"></i> Duration:\r\n              <span>{currentCourse.duration}</span>\r\n            </li>\r\n            <li className=\"list-group-item\">\r\n              <i className=\"fas fa-folder\"></i> Units:\r\n              <span>{currentCourse.lectures}</span>\r\n            </li>\r\n            {/* <li className=\"list-group-item\">\r\n              <i className=\"fas fa-user-circle\"></i> Students:\r\n              <span>Max 4</span>\r\n            </li> */}\r\n            <li className=\"list-group-item\">\r\n              <i className=\"fas fa-play\"></i> Videos:\r\n              <span>{currentCourse.videoDuration}</span>\r\n            </li>\r\n            {/* <li className=\"list-group-item\">\r\n              <i className=\"fas fa-flag\"></i> Skill Level:\r\n              <span>{currentCourse.skillLevel.name}</span>\r\n            </li> */}\r\n            <li className=\"list-group-item\">\r\n              <i className=\"fas fa-globe-americas\"></i> Language:\r\n              <span> {currentCourse.language.name}</span>\r\n            </li>\r\n          </ul>\r\n          {/* <div className=\"courses_new\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <h5>Recent Posts</h5>\r\n                <div className=\"post_cover\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-3 align-self-center\">\r\n                      <a href=\"#\">\r\n                        <img\r\n                          src=\"img/course_1.png\"\r\n                          alt=\"\"\r\n                          className=\"img-fluid\"\r\n                        />\r\n                      </a>\r\n                    </div>\r\n                    <div className=\"col-9 align-self-center\">\r\n                      <p>\r\n                        by\r\n                        <a href=\"#\">Jessica Brown</a>\r\n                        Marketing strategies\r\n                        <span className=\"star\">\r\n                          <i className=\"fas fa-star\"></i>\r\n                          <i className=\"fas fa-star\"></i>\r\n                          <i className=\"fas fa-star\"></i>\r\n                          <i className=\"fas fa-star\"></i>\r\n                          <i className=\"fas fa-star\"></i>\r\n                        </span>\r\n                        <span>4.8</span>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"post_cover\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-3 align-self-center\">\r\n                      <a href=\"#\">\r\n                        <img\r\n                          src=\"img/course_2.png\"\r\n                          alt=\"\"\r\n                          className=\"img-fluid\"\r\n                        />\r\n                      </a>\r\n                    </div>\r\n                    <div className=\"col-9 align-self-center\">\r\n                      <p>\r\n                        by\r\n                        <a href=\"#\">Jessica Brown</a>\r\n                        Marketing strategies\r\n                        <span className=\"star\">\r\n                          <i className=\"fas fa-star\"></i>\r\n                          <i className=\"fas fa-star\"></i>\r\n                          <i className=\"fas fa-star\"></i>\r\n                          <i className=\"fas fa-star\"></i>\r\n                          <i className=\"fas fa-star\"></i>\r\n                        </span>\r\n                        <span>4.8</span>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"post_cover\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-3 align-self-center\">\r\n                      <a href=\"#\">\r\n                        <img\r\n                          src=\"img/course_3.png\"\r\n                          alt=\"\"\r\n                          className=\"img-fluid\"\r\n                        />\r\n                      </a>\r\n                    </div>\r\n                    <div className=\"col-9 align-self-center\">\r\n                      <p>\r\n                        by\r\n                        <a href=\"#\">Jessica Brown</a>\r\n                        Marketing strategies\r\n                        <span className=\"star\">\r\n                          <i className=\"fas fa-star\"></i>\r\n                          <i className=\"fas fa-star\"></i>\r\n                          <i className=\"fas fa-star\"></i>\r\n                          <i className=\"fas fa-star\"></i>\r\n                          <i className=\"fas fa-star\"></i>\r\n                        </span>\r\n                        <span>4.8</span>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div> */}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderFeedbackModal = () => {\r\n    return (\r\n      <Modal\r\n        show={feedbackModalVisibility}\r\n        onHide={() => setFeedbackModalVisibility(false)}\r\n      >\r\n        {/* <Modal.Header closeButton>\r\n          <Modal.Title>Feedback</Modal.Title>\r\n        </Modal.Header> */}\r\n        <Modal.Body>\r\n          <div className=\"add_review p-4\">\r\n            <a\r\n              onClick={() => setFeedbackModalVisibility(false)}\r\n              className=\"position-absolute\"\r\n              style={{ top: 10, right: 15 }}\r\n            >\r\n              <i className=\"fas fa-times\"></i>\r\n            </a>\r\n            <Formik\r\n              initialValues={{ rating: 0, name: \"\", email: \"\", message: \"\" }}\r\n              validationSchema={Yup.object({\r\n                name: Yup.string().required(\"First Name is required\"),\r\n                email: Yup.string()\r\n                  .email(\"Email is not valid.\")\r\n                  .required(\"Email is required.\"),\r\n                message: Yup.string().required(\"Message is required.\"),\r\n                rating: Yup.number()\r\n                  .min(1, \"Give a rating.\")\r\n                  .required(\"Rating is required.\"),\r\n              })}\r\n              onSubmit={(values) => {\r\n                dispatch(\r\n                  addCourseFeedback({\r\n                    id: currentCourse._id,\r\n                    body: values,\r\n                    onSuccess: () => {\r\n                      setFeedbackModalVisibility(false);\r\n                    },\r\n                  })\r\n                );\r\n              }}\r\n            >\r\n              {({ values, errors, touched, setFieldValue }) => {\r\n                return (\r\n                  <Form>\r\n                    <h3 className=\"mb-4\">\r\n                      Hey, how is your experience so far? Please take a few\r\n                      seconds to rate this course!\r\n                    </h3>\r\n                    <section className=\"content\">\r\n                      <div className=\"contact_form text-left py-0\">\r\n                        <div className=\"form_contact  text-left\">\r\n                          <div className=\"row\">\r\n                            <div className=\"col-12 mb-2\">\r\n                              Rating\r\n                              <ReactStars\r\n                                count={5}\r\n                                value={values.rating}\r\n                                size={16}\r\n                                emptySymbol=\"fa fa-star-o\"\r\n                                fullSymbol=\"fa fa-star\"\r\n                                emptyIcon={<i className=\"far fa-star\"></i>}\r\n                                halfIcon={\r\n                                  <i className=\"fa fa-star-half-alt\"></i>\r\n                                }\r\n                                filledIcon={<i className=\"fa fa-star\"></i>}\r\n                                activeColor=\"#f16101\"\r\n                                fractions={1}\r\n                                onChange={(r) => {\r\n                                  setFieldValue(\"rating\", r);\r\n                                }}\r\n                              />\r\n                              {errors.rating && touched.rating ? (\r\n                                <p\r\n                                  style={{\r\n                                    color: \"red\",\r\n                                    fontSize: \"13px\",\r\n                                  }}\r\n                                >\r\n                                  {errors.rating}\r\n                                </p>\r\n                              ) : null}\r\n                            </div>\r\n                            <div className=\"col-lg-6 col-md-6 col-12\">\r\n                              <div className=\"form-group\">\r\n                                <Field\r\n                                  type=\"text\"\r\n                                  name=\"name\"\r\n                                  className=\"form-control\"\r\n                                  placeholder=\"Name *\"\r\n                                />\r\n                                <ErrorMessage\r\n                                  name=\"name\"\r\n                                  component={TextError}\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"col-lg-6 col-md-6 col-12\">\r\n                              <div className=\"form-group\">\r\n                                <Field\r\n                                  type=\"email\"\r\n                                  name=\"email\"\r\n                                  className=\"form-control\"\r\n                                  placeholder=\"Email *\"\r\n                                />\r\n                                <ErrorMessage\r\n                                  name=\"email\"\r\n                                  component={TextError}\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"col-12\">\r\n                              <div className=\"form-group mb-3\">\r\n                                <textarea\r\n                                  className=\"form-control\"\r\n                                  rows=\"7\"\r\n                                  placeholder=\"Write Message\"\r\n                                  name=\"message\"\r\n                                  onChange={(e) => {\r\n                                    const value = e.target.value;\r\n                                    setFieldValue(\"message\", value);\r\n                                  }}\r\n                                ></textarea>\r\n\r\n                                <ErrorMessage\r\n                                  name=\"message\"\r\n                                  component={TextError}\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <input\r\n                            type=\"submit\"\r\n                            className=\"btn more\"\r\n                            value=\"Submit\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </section>\r\n                  </Form>\r\n                );\r\n              }}\r\n            </Formik>\r\n          </div>\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  };\r\n\r\n  var str = currentCourse.traits + \"\";\r\n  var courseTraits = new Array();\r\n  courseTraits = str.split(\",\").filter((t) => t.trim());\r\n  courseTraits = courseTraits;\r\n\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <meta property=\"og:title\" content={courseData.metaTitle} />\r\n        <meta\r\n          name=\"description\"\r\n          property=\"og:description\"\r\n          content={courseData.metaDescription}\r\n        />\r\n        <meta name=\"keywords\" content={courseData.metaKeyWords} />\r\n\r\n        <meta property=\"og:image\" content={courseData.image} />\r\n      </Helmet>\r\n      {renderHeaders()}\r\n\r\n      <section className=\"courses_detail\">\r\n        <div className=\"container\">\r\n          <div className=\"sources\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-12 col-12\">\r\n                <div className=\"course_info\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-lg-6 col-md-8 col-12\">\r\n                      {currentCourse.teachers[0] && (\r\n                        <div className=\"author\">\r\n                          <div\r\n                            className=\"img\"\r\n                            style={{\r\n                              backgroundImage: `url(\"${currentCourse.teachers[0].image}\")`,\r\n                            }}\r\n                          ></div>\r\n                          <p className=\"m-0\">\r\n                            By{\" \"}\r\n                            <span>\r\n                              {`${currentCourse.teachers[0].firstName} ${currentCourse.teachers[0].lastName}`}\r\n                            </span>\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n                      <h5 className=\"course_name\">{currentCourse.name}</h5>\r\n                      <div className=\"rating clearfix\">\r\n                        {/* <span className=\"star float-left\">\r\n                          <ReactStars\r\n                            count={5}\r\n                            value={currentCourse.rating || 0}\r\n                            edit={false}\r\n                            size={16}\r\n                            isHalf={true}\r\n                            emptySymbol=\"fa fa-star-o\"\r\n                            fullSymbol=\"fa fa-star\"\r\n                            emptyIcon={<i className=\"far fa-star\"></i>}\r\n                            halfIcon={<i className=\"fa fa-star-half-alt\"></i>}\r\n                            filledIcon={<i className=\"fa fa-star\"></i>}\r\n                            activeColor=\"#f16101\"\r\n                            fractions={2}\r\n                          />\r\n                        </span> */}\r\n                        {/* <p className=\"float-left\">\r\n                          {currentCourse.rating || 0}\r\n                          <span className=\"rating-count\">\r\n                            {currentCourse.totalRatingCount || 0}\r\n                          </span>\r\n                        </p> */}\r\n                        <div className=\"tag float-left\">\r\n                          <p>\r\n                            <a href=\"#\">{currentCourse.category.name}</a>\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {!lessonId && renderCourseImageSlider()}\r\n                {lessonId && currentCourse._id && (\r\n                  <LessonCard\r\n                    lessonId={lessonId}\r\n                    courseId={currentCourse._id}\r\n                    moveToPrevLesson={moveToPrevLesson}\r\n                    moveToNextLesson={moveToNextLesson}\r\n                    setWatched={(watcheObj) => {\r\n                      const { courseId, lessonId } = watcheObj;\r\n                      currentCourse.watchedVideos = [\r\n                        {\r\n                          course: courseId,\r\n                          lesson: lessonId,\r\n                        },\r\n                        ...currentCourse.watchedVideos,\r\n                      ];\r\n                      setCurrentCourse({ ...currentCourse });\r\n                    }}\r\n                  />\r\n                )}\r\n                {/* \r\n                <div className=\"video_sec\">\r\n           \r\n                  <img\r\n                    src=\"img/courses_video.png\"\r\n                    alt=\"\"\r\n                    className=\"img-fluid\"\r\n                  />\r\n                  <a className=\"wish_list\" href=\"#\">\r\n                    <i className=\"fas fa-heart\"></i>\r\n                  </a>\r\n                </div> */}\r\n\r\n                <div style={{ marginTop: \"20px\", marginBottom: \"40px\" }}>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-8\">\r\n                      <h2>This Course Includes</h2>\r\n                    </div>\r\n\r\n                    <div className=\"col-md-4\">\r\n                      <Link\r\n                        to=\"/subscription\"\r\n                        className=\"btn more ml-1 ml-md-4 yellow-btn\"\r\n                        style={{ width: \"auto\", maxWidth: \"186px\" }}\r\n                      >\r\n                        How To Buy\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"row\" style={{ maxWidth: \"600px\" }}>\r\n                    {courseTraits.length > 0 &&\r\n                      courseTraits.map((data, key) => {\r\n                        return (\r\n                          <div className=\"col-sm-6\">\r\n                            <img\r\n                              src={tickboxImage}\r\n                              style={{\r\n                                height: \"22px\",\r\n                                width: \"21px\",\r\n                                marginRight: \"1rem\",\r\n                              }}\r\n                            />\r\n                            <label>{data}</label>\r\n                          </div>\r\n                        );\r\n                      })}\r\n                  </div>\r\n                </div>\r\n\r\n                {renderDetailTabs()}\r\n                <div className=\"tab-content\" id=\"CoursesTabContent\">\r\n                  {detailTab === \"Overview\" && renderOverViewTabContent()}\r\n                  {detailTab === \"Videos\" && renderVideos()}\r\n                  {detailTab === \"Instructor\" && renderInstructors()}\r\n                  {detailTab === \"Reviews\" && renderReviews()}\r\n                  {detailTab === \"Forum\" && renderForum()}\r\n                </div>\r\n                <br />\r\n              </div>\r\n              {/* {renderCourseDetails()} */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <div style={{ backgroundColor: \"#fffcf4\" }}>\r\n        <div className=\"container p-5\">\r\n          <h1 className=\"text-center font-weight-bold mb-5\">\r\n            What Our Students Have To Say\r\n          </h1>\r\n          <Testimonials courseId={currentCourse._id} />\r\n        </div>\r\n      </div>\r\n      {renderFeedbackModal()}\r\n    </div>\r\n  );\r\n};\r\n\r\nCoursePage.loadData = ({ store, matchedRoute }) => {\r\n  const { dispatch } = store;\r\n\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const { params } = matchedRoute.match;\r\n      const { courseId, lessonId } = params;\r\n\r\n      let res;\r\n      if (lessonId) {\r\n        res = await http.get({\r\n          url: \"/lessons/full_lesson_detail/\" + lessonId,\r\n        });\r\n      } else {\r\n        res = await http.get({\r\n          url: \"/courses/full_course_detail/\" + courseId,\r\n        });\r\n      }\r\n\r\n      dispatch(setCoursePageData(res.data.data));\r\n      resolve();\r\n    } catch (err) {\r\n      reject(err);\r\n    }\r\n  });\r\n};\r\n\r\nexport default CoursePage;\r\n","import http from \"../../services/http\";\nimport { handleErrors } from \"../../helpers/error\";\n\n//http path\nconst path = \"/course_feedbacks\";\n\nexport const addCourseFeedback = ({\n  id = \"\",\n  body,\n  onSuccess,\n  onError,\n  onEnd,\n} = {}) => {\n  return async (dispatch, getState) => {\n    try {\n      const store = getState();\n      const { entities, auth } = store;\n\n      const { loading } = entities.courses;\n      if (loading) return;\n\n      const res = await http.post({\n        url: path + \"/give_feedback/\" + id,\n        body,\n        headers: {\n          \"x-auth-token\": auth.token,\n        },\n      });\n\n      //onSuccess event firing\n      if (onSuccess) onSuccess(res);\n    } catch (err) {\n      //onError event firing\n      if (onError) onError(err);\n      else handleErrors(err);\n    } finally {\n      if (onEnd) onEnd();\n    }\n  };\n};\n","import http from \"../../services/http\";\r\nimport { handleErrors } from \"../../helpers/error\";\r\n\r\nconst path = \"/lessons\";\r\n\r\nexport const getLesson = ({ id = \"\", onSuccess, onError, onEnd } = {}) => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      const storeState = getState();\r\n      const { token } = storeState.auth;\r\n\r\n      if (!id) throw new Error(\"id is required.\");\r\n      const res = await http.get({\r\n        url: path + \"/full_lesson_detail/\" + id,\r\n        headers: {\r\n          \"x-auth-token\": token,\r\n        },\r\n      });\r\nconsole.log(\"fuulll lessons\",res.data)\r\n      //onSuccess event firing\r\n      if (onSuccess) onSuccess(res);\r\n    } catch (err) {\r\n      //onError event firing\r\n      if (onError) onError(err);\r\n      else handleErrors(err);\r\n    } finally {\r\n      if (onEnd) onEnd();\r\n    }\r\n  };\r\n};\r\n\r\nexport const markVideoWatched = ({ body, onSuccess, onError, onEnd } = {}) => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      const storeState = getState();\r\n      const { token } = storeState.auth;\r\n\r\n      const res = await http.post({\r\n        url: path + \"/mark_video_as_watched/\",\r\n        body,\r\n        headers: {\r\n          \"x-auth-token\": token,\r\n        },\r\n      });\r\n\r\n      //onSuccess event firing\r\n      if (onSuccess) onSuccess(res);\r\n    } catch (err) {\r\n      //onError event firing\r\n      if (onError) onError(err);\r\n      else handleErrors(err);\r\n    } finally {\r\n      if (onEnd) onEnd();\r\n    }\r\n  };\r\n};\r\n"],"sourceRoot":""}