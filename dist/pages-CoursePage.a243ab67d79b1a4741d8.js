(window["__LOADABLE_LOADED_CHUNKS__"] = window["__LOADABLE_LOADED_CHUNKS__"] || []).push([["pages-CoursePage"],{

/***/ "./client/assets/img/play_free.png":
/*!*****************************************!*\
  !*** ./client/assets/img/play_free.png ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (__webpack_require__.p + "img/play_free.8550f9efcc3931b7797300024d9e9458.png");

/***/ }),

/***/ "./client/assets/img/tick.png":
/*!************************************!*\
  !*** ./client/assets/img/tick.png ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (__webpack_require__.p + "img/tick.38dd9d28dad5304bb7f5e5196e1eca64.png");

/***/ }),

/***/ "./client/components/Loader.js":
/*!*************************************!*\
  !*** ./client/components/Loader.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_spinners_BounceLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-spinners/BounceLoader */ "./node_modules/react-spinners/BounceLoader.js");
/* harmony import */ var react_spinners_BounceLoader__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_spinners_BounceLoader__WEBPACK_IMPORTED_MODULE_1__);


/* harmony default export */ __webpack_exports__["default"] = (function (props) {
  var _props$color = props.color,
      color = _props$color === void 0 ? "#00acf0" : _props$color;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_spinners_BounceLoader__WEBPACK_IMPORTED_MODULE_1___default.a, {
    color: color
  });
});

/***/ }),

/***/ "./client/components/ShareLink.js":
/*!****************************************!*\
  !*** ./client/components/ShareLink.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_share__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-share */ "./node_modules/react-share/es/index.js");


/* harmony default export */ __webpack_exports__["default"] = (function (props) {
  var _props$shareLink = props.shareLink,
      shareLink = _props$shareLink === void 0 ? "" : _props$shareLink;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    style: {
      display: "flex",
      justifyContent: "flex-start"
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_share__WEBPACK_IMPORTED_MODULE_1__["FacebookShareButton"], {
    url: shareLink,
    style: {
      display: "flex",
      justifyContent: "center",
      alignItems: "center",
      color: "#fff",
      backgroundColor: "#4267B2",
      width: "30px",
      height: "30px",
      padding: "0px",
      margin: "5px",
      borderRadius: "30px"
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
    className: "fab fa-facebook m-0"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_share__WEBPACK_IMPORTED_MODULE_1__["WhatsappShareButton"], {
    url: shareLink,
    style: {
      display: "flex",
      justifyContent: "center",
      alignItems: "center",
      color: "#fff",
      backgroundColor: "#25D366",
      width: "30px",
      height: "30px",
      padding: "0px",
      margin: "5px",
      borderRadius: "30px"
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
    className: "fab fa-whatsapp m-0"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_share__WEBPACK_IMPORTED_MODULE_1__["TwitterShareButton"], {
    url: shareLink,
    style: {
      display: "flex",
      justifyContent: "center",
      alignItems: "center",
      color: "#fff",
      backgroundColor: "#1DA1F2",
      width: "30px",
      height: "30px",
      padding: "0px",
      margin: "5px",
      borderRadius: "30px"
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
    className: "fab fa-twitter m-0"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_share__WEBPACK_IMPORTED_MODULE_1__["LinkedinShareButton"], {
    url: shareLink,
    style: {
      display: "flex",
      justifyContent: "center",
      alignItems: "center",
      color: "#fff",
      backgroundColor: "#0072b1",
      width: "30px",
      height: "30px",
      padding: "0px",
      margin: "5px",
      borderRadius: "30px"
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
    className: "fab fa-linkedin m-0"
  })));
});

/***/ }),

/***/ "./client/components/Toggle.js":
/*!*************************************!*\
  !*** ./client/components/Toggle.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ __webpack_exports__["default"] = (function (props) {
  var checked = props.checked,
      _onChange = props.onChange,
      _props$disabled = props.disabled,
      disabled = _props$disabled === void 0 ? false : _props$disabled;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
    className: "custom-toggle"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: "checkbox",
    checked: checked,
    disabled: disabled,
    onChange: function onChange(e) {
      _onChange(e.target.checked);
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "custom-toggle-slider rounded-circle"
  })));
});

/***/ }),

/***/ "./client/helpers/priceFormater.js":
/*!*****************************************!*\
  !*** ./client/helpers/priceFormater.js ***!
  \*****************************************/
/*! exports provided: formatPrice */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatPrice", function() { return formatPrice; });
var formatPrice = function formatPrice(price) {
  return numberWithCommas(price);
};

function numberWithCommas() {
  var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
  var parts = x.toString().split(".");
  parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",");
  return parts.join(".");
}

/***/ }),

/***/ "./client/pages/Course/ForumThreads.js":
/*!*********************************************!*\
  !*** ./client/pages/Course/ForumThreads.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! formik */ "./node_modules/formik/dist/formik.esm.js");
/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! yup */ "./node_modules/yup/es/index.js");
/* harmony import */ var _shared_TextError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/TextError */ "./client/shared/TextError.js");
/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-bootstrap */ "./node_modules/react-bootstrap/esm/index.js");
/* harmony import */ var _components_Loader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/Loader */ "./client/components/Loader.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/esm/react-router-dom.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _store_api_forum__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../store/api/forum */ "./client/store/api/forum.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_9__);
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }











var fourmTypeDropdownToggle, createThreadForm;
/* harmony default export */ __webpack_exports__["default"] = (function (props) {
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["useDispatch"])();
  var user = Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["useSelector"])(function (state) {
    return state.auth.user;
  });

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      _useState2 = _slicedToArray(_useState, 2),
      showLoader = _useState2[0],
      setShowLoader = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])({
    name: "",
    type: "question"
  }),
      _useState4 = _slicedToArray(_useState3, 2),
      formInitialValues = _useState4[0],
      setFormInitialValues = _useState4[1];

  var onCreateThread = function onCreateThread(values, _ref) {
    var resetForm = _ref.resetForm;
    if (showLoader) return;
    var courseId = props.courseId;

    var body = _objectSpread({
      course: courseId
    }, values);

    setShowLoader(true);
    dispatch(Object(_store_api_forum__WEBPACK_IMPORTED_MODULE_8__["createForumThread"])({
      body: body,
      onSuccess: function onSuccess(res) {
        setForumThreads([_objectSpread(_objectSpread({}, res.data.data), {}, {
          user: user
        })].concat(_toConsumableArray(forumThreads)));
        setFormInitialValues({
          name: "",
          type: "question"
        });
        resetForm();
      },
      onEnd: function onEnd() {
        setShowLoader(false);
      }
    }));
  };

  var renderCreateThread = function renderCreateThread() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_1__["Formik"], {
      validationSchema: yup__WEBPACK_IMPORTED_MODULE_2__["object"]({
        name: yup__WEBPACK_IMPORTED_MODULE_2__["string"]().required("Question/Discussion is required."),
        type: yup__WEBPACK_IMPORTED_MODULE_2__["string"]()
      }),
      initialValues: formInitialValues,
      enableReinitialize: true,
      onSubmit: onCreateThread,
      ref: function ref(_ref4) {
        createThreadForm = _ref4;
      }
    }, function (_ref2) {
      var setFieldValue = _ref2.setFieldValue,
          values = _ref2.values;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_1__["Form"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", _defineProperty({
        className: "row position-relative"
      }, "className", "create_thread mt-2"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "covering m-0"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_1__["Field"], {
        className: "form-control border-none",
        placeholder: values.type === "question" ? "Ask for help..." : "Start a discussion...",
        id: "threadNameField",
        name: "name",
        as: "textarea"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_1__["ErrorMessage"], {
        name: "name",
        component: _shared_TextError__WEBPACK_IMPORTED_MODULE_3__["default"]
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        style: {
          display: "flex",
          justifyContent: "flex-end",
          marginTop: "3px"
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__["Dropdown"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__["Dropdown"].Toggle, {
        as: "button",
        className: "hover_button",
        id: "dropdown-basic",
        ref: function ref(_ref3) {
          fourmTypeDropdownToggle = _ref3;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
        className: values.type === "question" ? "far fa-question-circle" : "fas fa-users"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__["Dropdown"].Menu, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__["Dropdown"].Item, {
        onClick: function onClick(e) {
          e.preventDefault();
          if (fourmTypeDropdownToggle) fourmTypeDropdownToggle.click();
          setFieldValue("type", "question");
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
        className: "far fa-question-circle"
      }), " Question"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__["Dropdown"].Item, {
        onClick: function onClick(e) {
          e.preventDefault();
          if (fourmTypeDropdownToggle) fourmTypeDropdownToggle.click();
          setFieldValue("type", "discussion");
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
        className: "fas fa-users"
      }), " Discussion"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit",
        className: "hover_button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
        className: "fas fa-paper-plane"
      })))));
    });
  };

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(""),
      _useState6 = _slicedToArray(_useState5, 2),
      searchQuery = _useState6[0],
      setSearchQuery = _useState6[1];

  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]),
      _useState8 = _slicedToArray(_useState7, 2),
      forumThreads = _useState8[0],
      setForumThreads = _useState8[1];

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var courseId = props.courseId;
    setShowLoader(true);
    dispatch(Object(_store_api_forum__WEBPACK_IMPORTED_MODULE_8__["getForumThreads"])({
      courseId: courseId,
      onSuccess: function onSuccess(res) {
        setForumThreads(res.data.data);
      },
      onEnd: function onEnd() {
        setShowLoader(false);
      }
    }));
  }, []);

  var deleteThread = function deleteThread(id, index) {
    var conf = window.confirm("Are you sure yu want to delete?");
    if (!conf) return;
    dispatch(Object(_store_api_forum__WEBPACK_IMPORTED_MODULE_8__["deleteForumThread"])({
      id: id,
      onSuccess: function onSuccess(res) {
        var newThreads = _toConsumableArray(forumThreads);

        newThreads.splice(index, 1);
        setForumThreads(newThreads);
      }
    }));
  };

  var renderThreadsList = function renderThreadsList() {
    var filteredList = searchQuery ? forumThreads.filter(function (th) {
      return th.name.toLocaleLowerCase().includes(searchQuery.toLocaleLowerCase());
    }) : forumThreads;
    return filteredList.map(function (thread, threadIndex) {
      if (!thread.user) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "quiz_list",
        key: "".concat(thread._id, " - thread- ").concat(threadIndex)
      }, user && user.role === "ADMIN" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "btn btn-danger",
        onClick: function onClick(e) {
          e.stopPropagation();
          deleteThread(thread._id, threadIndex);
        }
      }, "Delete"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Link"], {
        to: "/forum/" + thread._id,
        className: "text-dark text-decoration-none"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "col-lg-2 col-md-2 col-12 align-self-center text-center"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h6", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, thread.answers), thread.type === "question" ? "Answers" : "Replies")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "col-lg-8 col-md-8 col-12"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h5", null, thread.name), thread.lastAnswer && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, thread.lastAnswer.message)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "col-lg-2 col-md-2 col-12"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        src: thread.user.image,
        alt: "",
        className: "img-fluid",
        style: {
          objectFit: "cover",
          width: "64px",
          height: "64px",
          backgroundColor: "#ccc"
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        className: "posted"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "name"
      }, "".concat(thread.user.firstName, " ").concat(thread.user.lastName)), thread.type === "question" ? "Asked ".concat(moment__WEBPACK_IMPORTED_MODULE_9___default()(thread.createdAt).fromNow()) : "Started Discussion ".concat(moment__WEBPACK_IMPORTED_MODULE_9___default()(thread.createdAt).fromNow()))))));
    });
  };

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "forum"
  }, renderCreateThread(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "search_box"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "input-group input-group-lg"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: "search",
    className: "form-control",
    value: searchQuery,
    onChange: function onChange(e) {
      setSearchQuery(e.target.value.trim());
    },
    placeholder: "Search"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "input-group-append"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    className: "btn"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
    className: "fal fa-search"
  }))))), renderThreadsList());
});

/***/ }),

/***/ "./client/pages/Course/LessonCard.js":
/*!*******************************************!*\
  !*** ./client/pages/Course/LessonCard.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _components_Loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../components/Loader */ "./client/components/Loader.js");
/* harmony import */ var _assets_img_play_free_png__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../assets/img/play_free.png */ "./client/assets/img/play_free.png");
/* harmony import */ var _store_api_lessons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../store/api/lessons */ "./client/store/api/lessons.js");
/* harmony import */ var _VideoLesson__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./VideoLesson */ "./client/pages/Course/VideoLesson.js");
/* harmony import */ var _QuizBoard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./QuizBoard */ "./client/pages/Course/QuizBoard.js");
/* harmony import */ var _store_entities_currentQuiz__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../store/entities/currentQuiz */ "./client/store/entities/currentQuiz.js");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }









/* harmony default export */ __webpack_exports__["default"] = (function (props) {
  var lessonId = props.lessonId,
      courseId = props.courseId,
      moveToPrevLesson = props.moveToPrevLesson,
      moveToNextLesson = props.moveToNextLesson,
      setWatched = props.setWatched;
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useDispatch"])();

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])({
    name: "",
    type: "",
    canShow: false,
    accessibility: false
  }),
      _useState2 = _slicedToArray(_useState, 2),
      currentLesson = _useState2[0],
      setCurrentLesson = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(true),
      _useState4 = _slicedToArray(_useState3, 2),
      showLoader = _useState4[0],
      setShowLoader = _useState4[1];

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    setShowLoader(true);
    dispatch(Object(_store_api_lessons__WEBPACK_IMPORTED_MODULE_4__["getLesson"])({
      id: lessonId,
      onSuccess: function onSuccess(res) {
        setCurrentLesson(res.data.data);

        if (res.data.data.type === "quiz") {
          dispatch(Object(_store_entities_currentQuiz__WEBPACK_IMPORTED_MODULE_7__["setCurrentQuiz"])(res.data.data.quizzes[0]));
        }
      },
      onError: function onError(err) {},
      onEnd: function onEnd() {
        setShowLoader(false);
      }
    }));
  }, [lessonId]);

  var renderLoader = function renderLoader() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      style: {
        width: "100%",
        height: "390px",
        display: "flex",
        alignItems: "center",
        justifyContent: "space-around"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Loader__WEBPACK_IMPORTED_MODULE_2__["default"], null));
  };

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      _useState6 = _slicedToArray(_useState5, 2),
      quizEnded = _useState6[0],
      setQuizEnded = _useState6[1];

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "lesson-wrapper"
  }, showLoader ? renderLoader() : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, currentLesson.canShow ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "col-md-9"
  }, currentLesson.type !== "quiz" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, currentLesson.name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "col-md-3 justify-content-end"
  }, currentLesson.accessibility && currentLesson.accessibility === "free" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    className: "float-right",
    src: _assets_img_play_free_png__WEBPACK_IMPORTED_MODULE_3__["default"]
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, currentLesson.type === "video" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_VideoLesson__WEBPACK_IMPORTED_MODULE_5__["default"], {
    currentLesson: currentLesson,
    courseId: courseId,
    lessonId: currentLesson._id,
    moveToNextLesson: moveToNextLesson,
    moveToPrevLesson: moveToPrevLesson,
    setWatched: setWatched
  })), currentLesson.type === "quiz" && !quizEnded && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "card"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_QuizBoard__WEBPACK_IMPORTED_MODULE_6__["default"], {
    courseId: courseId,
    lessonId: lessonId,
    onComplete: function onComplete() {
      setQuizEnded(true);
    }
  })), currentLesson.type === "quiz" && quizEnded && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    classNam: "my-5 py-5"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
    className: "text-center my-5 py-5"
  }, "Quiz Ended")))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "my-5"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
    className: "py-5"
  }, "You need to Enroll in this course to view this lesson"))));
});

/***/ }),

/***/ "./client/pages/Course/QuestionCard.js":
/*!*********************************************!*\
  !*** ./client/pages/Course/QuestionCard.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_render_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-render-html */ "./node_modules/react-render-html/index.js");
/* harmony import */ var react_render_html__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_render_html__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_Toggle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../components/Toggle */ "./client/components/Toggle.js");
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }




var timer = null;
var interval = null;
/* harmony default export */ __webpack_exports__["default"] = (function (props) {
  var question = props.question,
      number = props.number,
      onNext = props.onNext,
      _props$isLast = props.isLast,
      isLast = _props$isLast === void 0 ? false : _props$isLast; //managing timer

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(0),
      _useState2 = _slicedToArray(_useState, 2),
      secondsAvailable = _useState2[0],
      setSecondsAvailable = _useState2[1];

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (timer) clearTimeout(timer);
    if (interval) clearInterval(interval); /// reseting

    setWritenAnswer("");
    setOptionsMap([]);

    if (question.allowedTime) {
      var availabletime = timeToSeconds(question.allowedTime);
      setSecondsAvailable(availabletime);
      timer = setTimeout(function () {
        var answer = {
          writtenAnswer: writtenAnswer,
          selectedOptions: optionsMap
        };
        if (timer) clearTimeout(timer);
        if (interval) clearInterval(interval);
        if (onNext) onNext(answer);
      }, (availabletime + 1) * 1000);
      var count = 0;
      interval = setInterval(function () {
        ++count;
        var left = availabletime - count;
        if (left >= 0) setSecondsAvailable(left);
      }, 1000);
    }
  }, [question]);
  var correctCount = 0;

  if (question.type !== "writable") {
    question.options.forEach(function (op) {
      if (op.isCorrect) ++correctCount;
    });
  }

  var renderQuestion = function renderQuestion() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "clearfix"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h5", {
      className: "float-left"
    }, "Question ", number), question.allowedTime && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      className: "badge badge-danger float-right"
    }, secondsToTime(secondsAvailable))), question.name && react_render_html__WEBPACK_IMPORTED_MODULE_1___default()(question.name), question.image && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
      src: question.image,
      style: {
        weight: "200px",
        width: "500px"
      }
    }));
  };

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])({}),
      _useState4 = _slicedToArray(_useState3, 2),
      optionsMap = _useState4[0],
      setOptionsMap = _useState4[1];

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var optMap = {};

    if (question.type !== "writable") {
      (question.options || []).forEach(function (opt) {
        optMap[opt.id] = false;
      });
      setOptionsMap(optMap);
    }
  }, [question.options]);

  var renderOptions = function renderOptions() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, question.options.map(function (op) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        key: op.id + op.name,
        style: {
          borderBottom: "1px solid rgba(0,0,0,0.05)",
          display: "flex"
        },
        className: "mb-2"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Toggle__WEBPACK_IMPORTED_MODULE_2__["default"], {
        checked: optionsMap[op.id],
        onChange: function onChange(checked) {
          var newOptMap = _objectSpread({}, optionsMap);

          if (correctCount == 1) {
            for (var key in newOptMap) {
              newOptMap[key] = false;
            }
          }

          newOptMap[op.id] = checked;
          setOptionsMap(newOptMap);
          console.log("OPT MAPPP =>>>", newOptMap);
        }
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "ml-2"
      }, react_render_html__WEBPACK_IMPORTED_MODULE_1___default()(op.name)));
    }));
  };

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(""),
      _useState6 = _slicedToArray(_useState5, 2),
      writtenAnswer = _useState6[0],
      setWritenAnswer = _useState6[1];

  var renderWritable = function renderWritable() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "form-group mb-3"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("textarea", {
      className: "form-control",
      rows: "7",
      placeholder: "Write Answer",
      value: writtenAnswer,
      onChange: function onChange(e) {
        setWritenAnswer(e.target.value);
      }
    }));
  };

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "question-card rounded mb-2 p-3",
    style: {
      backgroundColor: "#fafafa"
    }
  }, renderQuestion(), question.type === "writable" ? renderWritable() : renderOptions(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "clearfix"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    className: "btn btn-primary float-right",
    onClick: function onClick() {
      var answer = {
        writtenAnswer: writtenAnswer,
        selectedOptions: optionsMap
      };

      if (onNext) {
        if (timer) clearTimeout(timer);
        if (interval) clearInterval(interval);
        onNext(answer);
      }
    }
  }, !isLast ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, "Next ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
    className: "ml-1 fa fa-chevron-right"
  })) : "Done"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    className: "btn btn-secondary mr-1 float-right",
    onClick: function onClick() {
      var answer = {
        writtenAnswer: "",
        selectedOptions: {}
      };

      if (onNext) {
        if (timer) clearTimeout(timer);
        if (interval) clearInterval(interval);
        onNext(answer);
      }
    }
  }, "Skip")));
});

function timeToSeconds(hms) {
  // var hms = "02:04:33"; // your input string
  var a = hms.split(":"); // split it at the colons
  // minutes are worth 60 seconds. Hours are worth 60 minutes.

  var seconds = +a[0] * 60 * 60 + +a[1] * 60 + +a[2];
  return seconds;
}

var secondsToTime = function secondsToTime() {
  var seconds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var date = new Date(0);
  date.setSeconds(seconds);
  return date.toISOString().substr(11, 8);
};

/***/ }),

/***/ "./client/pages/Course/QuizBoard.js":
/*!******************************************!*\
  !*** ./client/pages/Course/QuizBoard.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _QuestionCard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./QuestionCard */ "./client/pages/Course/QuestionCard.js");
/* harmony import */ var _store_entities_currentQuiz__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../store/entities/currentQuiz */ "./client/store/entities/currentQuiz.js");
/* harmony import */ var _store_api_quizes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../store/api/quizes */ "./client/store/api/quizes.js");
/* harmony import */ var react_render_html__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-render-html */ "./node_modules/react-render-html/index.js");
/* harmony import */ var react_render_html__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_render_html__WEBPACK_IMPORTED_MODULE_5__);
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }







/* harmony default export */ __webpack_exports__["default"] = (function (props) {
  var onComplete = props.onComplete;
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useDispatch"])();
  var currentQuiz = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(function (state) {
    return state.entities.currentQuiz;
  });
  var token = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(function (state) {
    return state.auth.token;
  });
  var questions = currentQuiz.quiz.questions,
      started = currentQuiz.started,
      currentQuestion = currentQuiz.currentQuestion;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])({}),
      _useState2 = _slicedToArray(_useState, 2),
      quizAnswers = _useState2[0],
      setQuizAnswers = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      _useState4 = _slicedToArray(_useState3, 2),
      showAnswerSheet = _useState4[0],
      setShowAnswerSheet = _useState4[1];

  var onNextQuestion = function onNextQuestion(answer, questionId) {
    var newQuizAns = _objectSpread({}, quizAnswers);

    newQuizAns[questionId] = answer;
    setQuizAnswers(newQuizAns);
    var nextIndex = currentQuiz.currentQuestion + 1;

    if (!questions[nextIndex]) {
      // console.log("Quiz answers => ", newQuizAns);
      if (token) dispatch(Object(_store_api_quizes__WEBPACK_IMPORTED_MODULE_4__["answerQuiz"])({
        id: currentQuiz.quiz._id,
        body: newQuizAns
      }));
      setShowAnswerSheet(true); // dispatch(resetCurrentQuiz());
      // if (onComplete) onComplete();
    } else {
      dispatch(Object(_store_entities_currentQuiz__WEBPACK_IMPORTED_MODULE_3__["setCurrentQuestion"])(nextIndex));
    }
  };

  var renderQuestions = function renderQuestions() {
    var question = questions[currentQuestion];
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, question ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_QuestionCard__WEBPACK_IMPORTED_MODULE_2__["default"], {
      question: question,
      number: currentQuestion + 1,
      onNext: function onNext(answer) {
        return onNextQuestion(answer, question._id);
      },
      isLast: questions.length === currentQuestion + 1
    }) : null);
  };

  var renderStartQuiz = function renderStartQuiz() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "text-center py-5"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "btn-group"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: "btn btn-danger",
      onClick: onComplete
    }, "Skip Quiz"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: "btn btn-primary",
      onClick: function onClick() {
        dispatch(Object(_store_entities_currentQuiz__WEBPACK_IMPORTED_MODULE_3__["setCurrentQuestion"])(currentQuestion + 1));
        dispatch(Object(_store_entities_currentQuiz__WEBPACK_IMPORTED_MODULE_3__["startQuiz"])(true));
      }
    }, "Start Quiz")));
  };

  var isCorrect = function isCorrect(q) {
    var thisQsAns = quizAnswers[q._id];
    if (!thisQsAns) return false;

    for (var i = 0; i < q.options.length; ++i) {
      if (q.options[i]) {
        console.log("QuestionOption", q.options[i]);
        console.log("answer option ", thisQsAns);
        if (q.options[i].isCorrect !== thisQsAns.selectedOptions[q.options[i].id]) return false;
      }
    }

    return true;
  };

  var renderAnswerSheet = function renderAnswerSheet() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
      className: "text-center my-4"
    }, "Answer Sheet"), questions.map(function (qu) {
      var isAnsCorrect = false;

      if (qu.type !== "writable") {
        isAnsCorrect = isCorrect(qu);
      }

      var qDivWrapperClass = "question-card rounded mb-2 p-3 " + (isAnsCorrect && qu.type !== "writable" ? "border border-success" : "border border-danger");

      if (qu.type == "writable") {
        qDivWrapperClass = "question-card rounded mb-2 p-3 border border-primary";
      }

      var marksObtained = isAnsCorrect ? qu.marks : 0;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        key: qu._id,
        className: qDivWrapperClass,
        style: {
          backgroundColor: "#fafafa",
          position: "relative"
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        style: {
          position: "absolute",
          top: 2,
          right: 2
        }
      }, qu.type !== "writable" ? "Marks: ".concat(marksObtained, "/").concat(qu.marks) : "Marks: Checking Pending"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react_render_html__WEBPACK_IMPORTED_MODULE_5___default()(qu.name)), qu.image && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        src: qu.image,
        style: {
          weight: "200px",
          width: "500px"
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, qu.options.map(function (qo) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "row no-gutters",
          style: {
            maxWidth: "300px"
          }
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "col"
        }, react_render_html__WEBPACK_IMPORTED_MODULE_5___default()(qo.name)), qo.isCorrect && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          claassName: "col-2"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
          className: "fas fa-check text-success"
        })));
      })), qu.reference && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react_render_html__WEBPACK_IMPORTED_MODULE_5___default()(qu.reference)));
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "clearfix"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: "btn btn-primary float-right",
      onClick: function onClick() {
        setShowAnswerSheet(false);
        dispatch(Object(_store_entities_currentQuiz__WEBPACK_IMPORTED_MODULE_3__["resetCurrentQuiz"])());
        if (onComplete) onComplete();
      }
    }, "Continue")));
  };

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "p-3 rounded bg-white"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", null, "Quiz: ", currentQuiz.quiz.name), !started && renderStartQuiz(), started && !showAnswerSheet && renderQuestions(), showAnswerSheet && renderAnswerSheet());
});

/***/ }),

/***/ "./client/pages/Course/QuizModal.js":
/*!******************************************!*\
  !*** ./client/pages/Course/QuizModal.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-bootstrap */ "./node_modules/react-bootstrap/esm/index.js");
/* harmony import */ var _components_Loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../components/Loader */ "./client/components/Loader.js");
/* harmony import */ var _QuizBoard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./QuizBoard */ "./client/pages/Course/QuizBoard.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _store_ui_quizModal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../store/ui/quizModal */ "./client/store/ui/quizModal.js");




 //redux actions



function QuizModal(props) {
  var quizModal = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(function (state) {
    return state.ui.quizModal;
  });

  var renderLoader = function renderLoader() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "overlapping-loader"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Loader__WEBPACK_IMPORTED_MODULE_2__["default"], null));
  };

  var onQuizDone = function onQuizDone() {
    var onComplete = props.onComplete;
    if (onComplete) onComplete();
  };

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__["Modal"], {
    show: quizModal.visible
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_QuizBoard__WEBPACK_IMPORTED_MODULE_3__["default"], {
    onComplete: onQuizDone
  }));
}

/* harmony default export */ __webpack_exports__["default"] = (QuizModal);

/***/ }),

/***/ "./client/pages/Course/VideoLesson.js":
/*!********************************************!*\
  !*** ./client/pages/Course/VideoLesson.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _loadable_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @loadable/component */ "./node_modules/@loadable/component/dist/loadable.esm.js");
/* harmony import */ var _QuizModal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./QuizModal */ "./client/pages/Course/QuizModal.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _store_ui_quizModal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../store/ui/quizModal */ "./client/store/ui/quizModal.js");
/* harmony import */ var _store_entities_currentQuiz__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../store/entities/currentQuiz */ "./client/store/entities/currentQuiz.js");
/* harmony import */ var _store_api_lessons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../store/api/lessons */ "./client/store/api/lessons.js");
/* harmony import */ var _store_api_courses__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../store/api/courses */ "./client/store/api/courses.js");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }




 //redux actions





var activitySavingInterval;
var VideoPlayer = Object(_loadable_component__WEBPACK_IMPORTED_MODULE_1__["default"])({
  resolved: {},
  chunkName: function chunkName() {
    return "components-Video-VideoPlayer";
  },
  isReady: function isReady(props) {
    var key = this.resolve(props);

    if (this.resolved[key] !== true) {
      return false;
    }

    if (true) {
      return !!__webpack_require__.m[key];
    }

    return false;
  },
  importAsync: function importAsync() {
    return Promise.all(/*! import() | components-Video-VideoPlayer */[__webpack_require__.e("vendors~components-Video-VideoPlayer"), __webpack_require__.e("components-Video-VideoPlayer")]).then(__webpack_require__.bind(null, /*! ../../components/Video/VideoPlayer */ "./client/components/Video/VideoPlayer.js"));
  },
  requireAsync: function requireAsync(props) {
    var _this = this;

    var key = this.resolve(props);
    this.resolved[key] = false;
    return this.importAsync(props).then(function (resolved) {
      _this.resolved[key] = true;
      return resolved;
    });
  },
  requireSync: function requireSync(props) {
    var id = this.resolve(props);

    if (true) {
      return __webpack_require__(id);
    }

    return eval('module.require')(id);
  },
  resolve: function resolve() {
    if (true) {
      return /*require.resolve*/(/*! ../../components/Video/VideoPlayer */ "./client/components/Video/VideoPlayer.js");
    }

    return eval('require.resolve')("../../components/Video/VideoPlayer");
  }
}, {
  ssr: false
});
var videoPlayerRef;
/* harmony default export */ __webpack_exports__["default"] = (function (props) {
  var currentLesson = props.currentLesson,
      moveToNextLesson = props.moveToNextLesson,
      moveToPrevLesson = props.moveToPrevLesson,
      setWatched = props.setWatched,
      courseId = props.courseId,
      lessonId = props.lessonId;
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useDispatch"])();
  var user = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(function (state) {
    return state.auth.user;
  });
  console.log("video path", currentLesson.newVideo);
  console.log("bulk ", currentLesson.isBulk);
  var videoSources = (currentLesson.videoQualities && currentLesson.videoQualities.sort().reverse() || []).map(function (vq) {
    console.log("verify old", vq);
    return {
      src: currentLesson.video.replace("playlist.m3u8", vq + "p.m3u8"),
      label: vq + "P",
      //   selected: true,
      type: "application/x-mpegURL",
      withCredentials: false
    };
  });
  var videoSourcesNew = (currentLesson.videoQualities && currentLesson.videoQualities.sort().reverse() || []).map(function (vq) {
    if (vq === "360") {
      console.log("360", currentLesson.newVideo.replace("playlist.m3u8", "playlist400K/400K.ts.m3u8"));
      return {
        src: currentLesson.newVideo.replace("playlist.m3u8", "playlist400K/400K.ts.m3u8"),
        // src: currentLesson.newVideo.replace("playlist.m3u8", vq + "p.m3u8"),
        label: vq + "P",
        //   selected: true,
        type: "application/x-mpegURL",
        withCredentials: false
      };
    } else if (vq === "480") {
      return {
        src: currentLesson.newVideo.replace("playlist.m3u8", "playlist1000K/1000K.ts.m3u8"),
        // src: currentLesson.newVideo.replace("playlist.m3u8", vq + "p.m3u8"),
        label: vq + "P",
        //   selected: true,
        type: "application/x-mpegURL",
        withCredentials: false
      };
    } else if (vq === "720") {
      return {
        src: currentLesson.newVideo.replace("playlist.m3u8", "playlist1.5M/1.5M.ts.m3u8"),
        // src: currentLesson.newVideo.replace("playlist.m3u8", vq + "p.m3u8"),
        label: vq + "P",
        //   selected: true,
        type: "application/x-mpegURL",
        withCredentials: false
      };
    } else if (vq === "1028") {
      return {
        src: currentLesson.newVideo.replace("playlist.m3u8", "playlist2M/2M.ts.m3u8"),
        // src: currentLesson.newVideo.replace("playlist.m3u8", vq + "p.m3u8"),
        label: vq + "P",
        //   selected: true,
        type: "application/x-mpegURL",
        withCredentials: false
      };
    }
  }); ///save activity after 5 seconds

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    activitySavingInterval = setInterval(function () {
      if (!videoPlayerRef) return;
      var duration = videoPlayerRef.getCurrentDuration();
      dispatch(Object(_store_api_courses__WEBPACK_IMPORTED_MODULE_7__["saveActivity"])({
        body: {
          course: courseId,
          lesson: lessonId,
          duration: duration
        }
      }));
    }, 5000);
    return function () {
      if (activitySavingInterval) clearInterval(activitySavingInterval);
    };
  }, []);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]),
      _useState2 = _slicedToArray(_useState, 2),
      popedQuizzes = _useState2[0],
      setPoppedQuizes = _useState2[1];

  var quizPopupInterval = null;
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    quizPopupInterval = setInterval(function () {
      if (!videoPlayerRef) return;
      if (videoPlayerRef.paused()) return;
      var videoDuration = videoPlayerRef.getCurrentDuration();
      var popUpTime = secondsToTime(videoDuration);
      var quiz = currentLesson.quizzes.find(function (q) {
        return q.showInVideoTime === popUpTime;
      });

      if (quiz && popedQuizzes.findIndex(function (pq) {
        return pq === quiz._id;
      }) === -1) {
        popedQuizzes.push(quiz._id);
        setPoppedQuizes(popedQuizzes);
        videoPlayerRef.pause();
        videoPlayerRef.exitFullScreen();
        dispatch(Object(_store_entities_currentQuiz__WEBPACK_IMPORTED_MODULE_5__["setCurrentQuiz"])(quiz));
        dispatch(Object(_store_ui_quizModal__WEBPACK_IMPORTED_MODULE_4__["setQuizModalVisibility"])(true));
      }
    }, 1000);
    return function () {
      clearInterval(quizPopupInterval);
    };
  }, []);

  var onQuizComplete = function onQuizComplete() {
    dispatch(Object(_store_ui_quizModal__WEBPACK_IMPORTED_MODULE_4__["setQuizModalVisibility"])(false));
    if (!videoPlayerRef) return;
    videoPlayerRef.play();
  };

  var waterMarkText = "";

  if (user) {
    waterMarkText = "".concat(user.firstName, " ").concat(user.lastName, " (").concat(user.email, ")");
  }

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, currentLesson.isBulk === true ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "w-100"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(VideoPlayer, {
    sources: videoSourcesNew // sources={currentLesson.newVideo.replace("playlist.m3u8", "playlist400K/400K.ts.m3u8")}
    ,
    ref: function ref(_ref) {
      videoPlayerRef = _ref;
    },
    playbackRates: [0.75, 1, 1.25, 1.5, 1.75],
    waterMarkText: waterMarkText,
    captions: currentLesson.videoCaptions,
    onVideoEnd: function onVideoEnd() {
      try {
        if (moveToNextLesson) moveToNextLesson();
        dispatch(Object(_store_api_lessons__WEBPACK_IMPORTED_MODULE_6__["markVideoWatched"])({
          body: {
            course: courseId,
            lesson: lessonId
          },
          onError: function onError() {}
        }));
        if (setWatched) setWatched({
          courseId: courseId,
          lessonId: lessonId
        });
      } catch (err) {
        console.log("VIDEO END ERR", err);
      }
    },
    onPrev: function onPrev() {
      if (moveToPrevLesson) moveToPrevLesson();
    },
    onNext: function onNext() {
      if (moveToNextLesson) moveToNextLesson();
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_QuizModal__WEBPACK_IMPORTED_MODULE_2__["default"], {
    onComplete: onQuizComplete
  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "w-100"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(VideoPlayer, {
    sources: videoSources // sources={currentLesson.newVideo.replace("playlist.m3u8", "playlist400K/400K.ts.m3u8")}
    ,
    ref: function ref(_ref2) {
      videoPlayerRef = _ref2;
    },
    playbackRates: [0.75, 1, 1.25, 1.5, 1.75],
    waterMarkText: waterMarkText,
    captions: currentLesson.videoCaptions,
    onVideoEnd: function onVideoEnd() {
      try {
        if (moveToNextLesson) moveToNextLesson();
        dispatch(Object(_store_api_lessons__WEBPACK_IMPORTED_MODULE_6__["markVideoWatched"])({
          body: {
            course: courseId,
            lesson: lessonId
          },
          onError: function onError() {}
        }));
        if (setWatched) setWatched({
          courseId: courseId,
          lessonId: lessonId
        });
      } catch (err) {
        console.log("VIDEO END ERR", err);
      }
    },
    onPrev: function onPrev() {
      if (moveToPrevLesson) moveToPrevLesson();
    },
    onNext: function onNext() {
      if (moveToNextLesson) moveToNextLesson();
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_QuizModal__WEBPACK_IMPORTED_MODULE_2__["default"], {
    onComplete: onQuizComplete
  })));
});

var secondsToTime = function secondsToTime() {
  var seconds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var date = new Date(0);
  date.setSeconds(seconds);
  return date.toISOString().substr(11, 8);
};

/***/ }),

/***/ "./client/pages/CoursePage.js":
/*!************************************!*\
  !*** ./client/pages/CoursePage.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/esm/react-router-dom.js");
/* harmony import */ var _loadable_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @loadable/component */ "./node_modules/@loadable/component/dist/loadable.esm.js");
/* harmony import */ var react_render_html__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-render-html */ "./node_modules/react-render-html/index.js");
/* harmony import */ var react_render_html__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_render_html__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_rating_stars_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-rating-stars-component */ "./node_modules/react-rating-stars-component/dist/react-stars.js");
/* harmony import */ var react_rating_stars_component__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_rating_stars_component__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _assets_img_tick_png__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../assets/img/tick.png */ "./client/assets/img/tick.png");
/* harmony import */ var _store_api_courses__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../store/api/courses */ "./client/store/api/courses.js");
/* harmony import */ var _store_api_cart__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../store/api/cart */ "./client/store/api/cart.js");
/* harmony import */ var _store_api_courseFeedbacks__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../store/api/courseFeedbacks */ "./client/store/api/courseFeedbacks.js");
/* harmony import */ var _Course_LessonCard__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Course/LessonCard */ "./client/pages/Course/LessonCard.js");
/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-bootstrap */ "./node_modules/react-bootstrap/esm/index.js");
/* harmony import */ var _store_ui_loginModal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../store/ui/loginModal */ "./client/store/ui/loginModal.js");
/* harmony import */ var _store_ui_registerModal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../store/ui/registerModal */ "./client/store/ui/registerModal.js");
/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! formik */ "./node_modules/formik/dist/formik.esm.js");
/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! yup */ "./node_modules/yup/es/index.js");
/* harmony import */ var _shared_TextError__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../shared/TextError */ "./client/shared/TextError.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var _helpers_priceFormater__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../helpers/priceFormater */ "./client/helpers/priceFormater.js");
/* harmony import */ var _Course_ForumThreads__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./Course/ForumThreads */ "./client/pages/Course/ForumThreads.js");
/* harmony import */ var _components_ShareLink__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../components/ShareLink */ "./client/components/ShareLink.js");
/* harmony import */ var _services_http__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../services/http */ "./client/services/http.js");
/* harmony import */ var _store_ui_coursePage__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../store/ui/coursePage */ "./client/store/ui/coursePage.js");
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! react-helmet */ "./node_modules/react-helmet/es/Helmet.js");
/* harmony import */ var _services_storage__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../services/storage */ "./client/services/storage.js");
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

























 // import { MDBCarousel, MDBCarouselInner, MDBCarouselItem, MDBView, MDBContainer } from
// "mdbreact";

var Testimonials = Object(_loadable_component__WEBPACK_IMPORTED_MODULE_3__["default"])({
  resolved: {},
  chunkName: function chunkName() {
    return "components-Testimonial";
  },
  isReady: function isReady(props) {
    var key = this.resolve(props);

    if (this.resolved[key] !== true) {
      return false;
    }

    if (true) {
      return !!__webpack_require__.m[key];
    }

    return false;
  },
  importAsync: function importAsync() {
    return Promise.all(/*! import() | components-Testimonial */[__webpack_require__.e("vendors~components-HomeCourses~components-HomeSlider~components-NewTeacher~components-QuickCarousal~~7c62f0c5"), __webpack_require__.e("components-Testimonial")]).then(__webpack_require__.bind(null, /*! ../components/Testimonial */ "./client/components/Testimonial.js"));
  },
  requireAsync: function requireAsync(props) {
    var _this = this;

    var key = this.resolve(props);
    this.resolved[key] = false;
    return this.importAsync(props).then(function (resolved) {
      _this.resolved[key] = true;
      return resolved;
    });
  },
  requireSync: function requireSync(props) {
    var id = this.resolve(props);

    if (true) {
      return __webpack_require__(id);
    }

    return eval('module.require')(id);
  },
  resolve: function resolve() {
    if (true) {
      return /*require.resolve*/(/*! ../components/Testimonial */ "./client/components/Testimonial.js");
    }

    return eval('require.resolve')("../components/Testimonial");
  }
}, {
  ssr: false
});
var CourseImagesSlider = Object(_loadable_component__WEBPACK_IMPORTED_MODULE_3__["default"])({
  resolved: {},
  chunkName: function chunkName() {
    return "components-CourseImagesSlider";
  },
  isReady: function isReady(props) {
    var key = this.resolve(props);

    if (this.resolved[key] !== true) {
      return false;
    }

    if (true) {
      return !!__webpack_require__.m[key];
    }

    return false;
  },
  importAsync: function importAsync() {
    return __webpack_require__.e(/*! import() | components-CourseImagesSlider */ "components-CourseImagesSlider").then(__webpack_require__.bind(null, /*! ../components/CourseImagesSlider */ "./client/components/CourseImagesSlider.js"));
  },
  requireAsync: function requireAsync(props) {
    var _this = this;

    var key = this.resolve(props);
    this.resolved[key] = false;
    return this.importAsync(props).then(function (resolved) {
      _this.resolved[key] = true;
      return resolved;
    });
  },
  requireSync: function requireSync(props) {
    var id = this.resolve(props);

    if (true) {
      return __webpack_require__(id);
    }

    return eval('module.require')(id);
  },
  resolve: function resolve() {
    if (true) {
      return /*require.resolve*/(/*! ../components/CourseImagesSlider */ "./client/components/CourseImagesSlider.js");
    }

    return eval('require.resolve')("../components/CourseImagesSlider");
  }
}, {
  ssr: false
});

var CoursePage = function CoursePage(props) {
  var _props$match$params = props.match.params,
      courseId = _props$match$params.courseId,
      lessonId = _props$match$params.lessonId;
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useDispatch"])(); //tabs

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("Videos"),
      _useState2 = _slicedToArray(_useState, 2),
      detailTab = _useState2[0],
      setDetailTab = _useState2[1];

  var cart = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(function (state) {
    return state.entities.cart;
  });
  var authToken = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(function (state) {
    return state.auth.token;
  });
  var user = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(function (state) {
    return state.auth.user;
  });

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]),
      _useState4 = _slicedToArray(_useState3, 2),
      list = _useState4[0],
      setList = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      _useState6 = _slicedToArray(_useState5, 2),
      feedbackModalVisibility = _useState6[0],
      setFeedbackModalVisibility = _useState6[1];

  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(""),
      _useState8 = _slicedToArray(_useState7, 2),
      traits = _useState8[0],
      setTraits = _useState8[1];

  var courseData = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(function (state) {
    return state.ui.coursePage.data;
  }); // const lessId = useSelector(
  //   (state) => state.entities.courses[0].list[].lesson[0].slug
  // );
  // console.log("lesson list", list);
  //currentCourse

  var _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])({
    _id: "",
    name: "",
    price: 0,
    description: "",
    rating: 0,
    totalRatingCount: "",
    duration: "",
    videoDuration: "",
    lectures: "",
    teachers: [],
    chapters: [],
    category: {
      name: ""
    },
    traits: [],
    language: {
      name: ""
    },
    skillLevel: {
      name: ""
    },
    feedbackAsked: false,
    startingVideoId: "",
    isEnrolled: false,
    enrolledChapters: [],
    watchedVideos: []
  }),
      _useState10 = _slicedToArray(_useState9, 2),
      currentCourse = _useState10[0],
      setCurrentCourse = _useState10[1];

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    dispatch(Object(_store_api_courses__WEBPACK_IMPORTED_MODULE_7__["loadFullCourse"])({
      id: courseId,
      onSuccess: function onSuccess(res) {
        if (res.data.data.chapters[0].lessons) {
          setList(res.data.data.chapters[0].lessons);
        }

        if (lessonId) {
          if (!authToken && res.data.data.chapters && res.data.data.chapters[0] && res.data.data.chapters[0].lessons && res.data.data.chapters[0].lessons[0] && !(res.data.data.chapters[0].lessons[0]._id === lessonId || res.data.data.chapters[0].lessons[0].slug === lessonId)) {
            dispatch(Object(_store_ui_loginModal__WEBPACK_IMPORTED_MODULE_12__["setLoginModalVisibility"])(true));
            dispatch(Object(_store_ui_loginModal__WEBPACK_IMPORTED_MODULE_12__["setLoginModalClosable"])(false));
            dispatch(Object(_store_ui_registerModal__WEBPACK_IMPORTED_MODULE_13__["setRegisterModalClosable"])(false));
          }

          var currentChapterId = "";
          res.data.data.chapters;

          for (var i = 0; i < res.data.data.chapters.length; ++i) {
            var ch = res.data.data.chapters[i];

            if (ch) {
              for (var j = 0; j < ch.lessons.length; ++j) {
                var le = ch.lessons[j];

                if (le._id === lessonId) {
                  currentChapterId = ch._id;
                  break;
                }
              }
            }
          }

          setSelectedAccordian(currentChapterId);
        }

        setCurrentCourse(res.data.data); //loading reviews

        dispatch(Object(_store_api_courses__WEBPACK_IMPORTED_MODULE_7__["loadReviews"])({
          id: res.data.data._id,
          onSuccess: function onSuccess(res) {
            setReviews(res.data.data);
          }
        }));
      }
    }));
  }, [props]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (currentCourse.feedbackAsked) return;
    if (!currentCourse.watchedVideos) return;
    if (currentCourse.watchedVideos.length < 5) return;
    setFeedbackModalVisibility(true);
    dispatch(Object(_store_api_courses__WEBPACK_IMPORTED_MODULE_7__["setFeedbackAsked"])({
      id: currentCourse._id
    }));
  }, [currentCourse.watchedVideos]);

  var moveToPrevLesson = function moveToPrevLesson() {
    var tkn = _services_storage__WEBPACK_IMPORTED_MODULE_24__["default"].get("xAuthToken");

    if (!tkn) {
      dispatch(Object(_store_ui_loginModal__WEBPACK_IMPORTED_MODULE_12__["setLoginModalVisibility"])(true));
      dispatch(Object(_store_ui_loginModal__WEBPACK_IMPORTED_MODULE_12__["setLoginModalClosable"])(false));
      dispatch(Object(_store_ui_registerModal__WEBPACK_IMPORTED_MODULE_13__["setRegisterModalClosable"])(false));
    }

    var currentLessonIndex = -1;
    var prevLessonIndex = -1;
    var currentChapterIndex = -1;
    var prevChapterIndex = -1;
    var chapters = currentCourse.chapters;
    chapters.forEach(function (chap, chapIndex) {
      if (!chap.lessons) chap.lessons = [];

      for (var i = 0; i < chap.lessons.length; ++i) {
        if (chap.lessons[i]) {
          //
          if (chap.lessons[i]._id === lessonId) {
            ///chap
            currentChapterIndex = chapIndex;
            prevChapterIndex = chapIndex - 1; ////// lesson

            currentLessonIndex = i;
            prevLessonIndex = i - 1;
          }
        }
      }
    });

    if (currentLessonIndex < 0 || // prevLessonIndex < 0 ||
    currentChapterIndex < 0 // prevChapterIndex < 0
    ) {
        return;
      }

    var currentChap = chapters[currentChapterIndex];
    var prevChap = chapters[prevChapterIndex];
    var prevLesson = currentChap.lessons[prevLessonIndex];

    if (!prevLesson) {
      if (prevChap) prevLesson = prevChap.lessons[0];
    }

    if (!prevLesson) return;
    props.history.push("/course/".concat(courseId, "/").concat(prevLesson._id));
  };

  var moveToNextLesson = function moveToNextLesson() {
    var tkn = _services_storage__WEBPACK_IMPORTED_MODULE_24__["default"].get("xAuthToken");

    if (!tkn) {
      dispatch(Object(_store_ui_loginModal__WEBPACK_IMPORTED_MODULE_12__["setLoginModalVisibility"])(true));
      dispatch(Object(_store_ui_loginModal__WEBPACK_IMPORTED_MODULE_12__["setLoginModalClosable"])(false));
      dispatch(Object(_store_ui_registerModal__WEBPACK_IMPORTED_MODULE_13__["setRegisterModalClosable"])(false));
    }

    var currentLessonIndex = -1;
    var nextLessonIndex = -1;
    var currentChapterIndex = -1;
    var nextChapterIndex = -1;
    var chapters = currentCourse.chapters;
    chapters.forEach(function (chap, chapIndex) {
      if (!chap.lessons) chap.lessons = [];

      for (var i = 0; i < chap.lessons.length; ++i) {
        if (chap.lessons[i]) {
          if (chap.lessons[i]._id === lessonId || chap.lessons[i].slug === lessonId) {
            ///chap
            currentChapterIndex = chapIndex;
            nextChapterIndex = chapIndex + 1; ////// lesson

            currentLessonIndex = i;
            nextLessonIndex = i + 1;
            break;
          }
        }
      }
    });

    if (currentLessonIndex < 0 || nextLessonIndex < 0 || currentChapterIndex < 0 || nextChapterIndex < 0) {
      return;
    }

    var currentChap = chapters[currentChapterIndex];
    var nextChap = chapters[nextChapterIndex];
    var nextLesson = currentChap.lessons[nextLessonIndex];

    if (!nextLesson) {
      if (nextChap) nextLesson = nextChap.lessons[0];
    }

    if (!nextLesson) return;
    console.log("NEXT LEsson => ", nextLesson);
    props.history.push("/course/".concat(courseId, "/").concat(nextLesson._id));
  };

  var renderHeaders = function renderHeaders() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
      className: "other_banner"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "container"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", null, currentCourse.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("nav", {
      "aria-label": "breadcrumb"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ol", {
      className: "breadcrumb"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
      className: "breadcrumb-item"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
      to: "/"
    }, "Home")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
      className: "breadcrumb-item"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
      to: "/all-courses/"
    }, "Courses")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
      className: "breadcrumb-item"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
      to: "/all-courses/" + currentCourse.category._id
    }, currentCourse.category.name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
      className: "breadcrumb-item active"
    }, currentCourse.name)))));
  };

  var renderCourseImageSlider = function renderCourseImageSlider() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, list.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
      to: "/course/".concat(currentCourse.slug, "/").concat(list[0].slug)
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CourseImagesSlider // firstLesson={}
    , {
      images: currentCourse.images || [{
        image: currentCourse.image
      }]
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ShareLink__WEBPACK_IMPORTED_MODULE_20__["default"], {
      shareLink: "https://www.out-class.org/course/" + currentCourse.slug
    }));
  };

  var renderDetailTabs = function renderDetailTabs() {
    var tabs = ["Videos", "Overview", "Instructor" //  "Reviews",
    //  "Forum"
    ];

    if (currentCourse.showReviews) {
      tabs.push("Reviews");
    }

    if (currentCourse.isEnrolled) {
      tabs[tabs.length] = "Forum";
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
      className: "nav nav-tabs",
      id: "CoursesTab",
      role: "tablist"
    }, tabs.map(function (tab) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
        className: "nav-item",
        role: "presentation"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        className: detailTab === tab ? "nav-link active" : "nav-link",
        id: "Overview-tab",
        "data-toggle": "tab",
        role: "tab",
        "aria-controls": "Overview",
        "aria-selected": "true",
        onClick: function onClick(e) {
          e.preventDefault();
          setDetailTab(tab);
        }
      }, tab));
    }));
  };

  var renderOverViewTabContent = function renderOverViewTabContent() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "p-3"
    }, react_render_html__WEBPACK_IMPORTED_MODULE_4___default()(currentCourse.description));
  };

  var _useState11 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(""),
      _useState12 = _slicedToArray(_useState11, 2),
      selectedAccordian = _useState12[0],
      setSelectedAccordian = _useState12[1];

  var renderVideos = function renderVideos() {
    var cartCourse = cart.items.find(function (itm) {
      return itm.course && itm.course._id === currentCourse._id;
    });
    var cartChapterIds = [];

    if (cartCourse) {
      cartChapterIds = cartCourse.chapters.map(function (c) {
        return c._id;
      });
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "tab-pane active show",
      id: "Videos",
      role: "tabpanel",
      "aria-labelledby": "Curriculum-tab"
    }, currentCourse.chapters.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "Videos"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__["Accordion"], {
      defaultActiveKey: "0",
      id: "ChapterOfCourses"
    }, currentCourse.chapters.map(function (chap, chapterIndex) {
      var isInCart = cartChapterIds.includes(chap._id);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__["Card"], {
        key: "".concat(chap._id),
        className: selectedAccordian === chapterIndex ? "active mb-2" : "mb-2"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__["Accordion"].Toggle, {
        className: "card-header",
        id: "headingOne",
        eventKey: "".concat(chapterIndex),
        onClick: function onClick(e) {
          e.preventDefault(); // window.scrollTo(20.2, 0);

          setSelectedAccordian("".concat(chapterIndex));
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
        className: "mb-0"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "btn btn-block text-left collapsed",
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "py-2"
      }, chap.name)), !(currentCourse.enrolledChapters || []).includes(chap._id) ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        onClick: function onClick(e) {
          if (!chap.price) return;
          e.stopPropagation(); //prevents click event to propagate to accordian.

          var tkn = _services_storage__WEBPACK_IMPORTED_MODULE_24__["default"].get("xAuthToken");

          if (!tkn) {
            dispatch(Object(_store_ui_loginModal__WEBPACK_IMPORTED_MODULE_12__["setLoginModalVisibility"])(true));
            dispatch(Object(_store_ui_loginModal__WEBPACK_IMPORTED_MODULE_12__["setLoginModalClosable"])(false));
            dispatch(Object(_store_ui_registerModal__WEBPACK_IMPORTED_MODULE_13__["setRegisterModalClosable"])(false));
            return;
          }

          dispatch(Object(_store_api_cart__WEBPACK_IMPORTED_MODULE_8__["addItemToCartApi"])({
            body: {
              course: currentCourse._id,
              chapters: [chap._id],
              completeCourse: false
            }
          }));
        },
        className: isInCart ? "price bg-success" : "price"
      }, chap.price ? "Rs. " + Object(_helpers_priceFormater__WEBPACK_IMPORTED_MODULE_18__["formatPrice"])(chap.price) : "Free", " ", chap.price ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "ml-2"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
        className: "fal fa-shopping-cart"
      })) : null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        className: "price bg-warning"
      }, "Enrolled"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__["Accordion"].Collapse, {
        eventKey: "".concat(chapterIndex)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__["Card"].Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, chap.description && react_render_html__WEBPACK_IMPORTED_MODULE_4___default()(chap.description)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        className: "table course_detail"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, chap.lessons.map(function (lesson, lessonIndex) {
        var watched = currentCourse.watchedVideos.find(function (w) {
          return w.lesson === lesson._id;
        });

        if (lessonId === lesson._id && selectedAccordian != chapterIndex) {
          setSelectedAccordian("".concat(chapterIndex));
        }

        var lessonIcon = watched ? "fas fa-play" : "far fa-play";

        switch (lesson.type) {
          case "quiz":
            lessonIcon = "far fa-comment";
        }

        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: lesson._id + "course page lesson" + lessonIndex
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "position-relative"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
          to: "/course/".concat(currentCourse.slug, "/").concat(lesson.slug)
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          style: {
            width: "40px"
          }
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
          className: lessonIcon
        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          className: "text-dark text-decoration-none"
        }, lesson.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", null, watched && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
          className: "badge badge-dark mr-2",
          style: {
            position: "absolute",
            top: "15px",
            right: lesson.accessibility !== "paid" ? "45px" : "15px"
          }
        }, "watched"), lesson.accessibility !== "paid" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
          className: "badge badge-info mr-2",
          style: {
            position: "absolute",
            top: "15px",
            right: "5px"
          }
        }, "Free"))), console.log("leeee=========>>", lesson), lesson.quiz ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, lesson.quiz.doc.length ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "pdf-lessons"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
          className: "pdf-name"
        }, lesson.quiz.pdfName), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
          className: "pdf-desc"
        }, lesson.quiz.desc), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          className: "pdf-download",
          href: lesson.quiz.doc
        }, "Download PDF")) : null) : null));
      }))))));
    }))));
  };

  var renderInstructors = function renderInstructors() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "instructor"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "card"
    }, currentCourse.teachers.map(function (teacher, teacherIndex) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "card-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "left_block"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        src: teacher.image,
        alt: "",
        className: "img-fluid"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "right_block"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h5", null, "".concat(teacher.firstName, " ").concat(teacher.lastName)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "py-3"
      }, react_render_html__WEBPACK_IMPORTED_MODULE_4___default()(teacher.introduction || "")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "row social"
      }, teacher.twitterLink && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: teacher.twitterLink,
        target: "_blank"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
        className: "fab fa-twitter"
      })), teacher.facebookLink && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: teacher.facebookLink,
        target: "_blank"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
        className: "fab fa-facebook"
      })), teacher.linkedInLink && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: teacher.linkedInLink,
        target: "_blank"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
        className: "fab fa-linkedin"
      })), teacher.googleLink && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: teacher.googleLink,
        target: "_blank"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
        className: "fab fa-google"
      })), teacher.youtubeLink && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: teacher.youtubeLink,
        target: "_blank"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
        className: "fab fa-youtube"
      })))));
    })));
  };

  var _useState13 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]),
      _useState14 = _slicedToArray(_useState13, 2),
      reviews = _useState14[0],
      setReviews = _useState14[1];

  var deleteCourseReview = function deleteCourseReview(id, index) {
    var conf = window.confirm("Are you sure you want to delete?");
    if (!conf) return;
    dispatch(Object(_store_api_courses__WEBPACK_IMPORTED_MODULE_7__["deleteReview"])({
      id: id,
      onSuccess: function onSuccess() {
        var newReviews = _toConsumableArray(reviews);

        newReviews.splice(index, 1);
        setReviews(newReviews);
      }
    }));
  };

  var renderReviews = function renderReviews() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "review"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "review_score"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "row"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "col-lg-8 col-md-8 col-12 align-self-center"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "prgress_cover"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      className: "progress-label"
    }, "Excellent"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "progress"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "progress-bar progress-bar-info",
      role: "progressbar",
      "aria-valuenow": "20",
      "aria-valuemin": "0",
      "aria-valuemax": "100",
      style: {
        width: "".concat(currentCourse.fiveStar !== 0 ? currentCourse.fiveStar / currentCourse.totalRatingCount * 100 : 0, "%")
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      className: "progress-percentage"
    }, currentCourse.fiveStar || 0), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "clearfix"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "prgress_cover"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      className: "progress-label"
    }, "Very Good"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "progress"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "progress-bar progress-bar-info",
      role: "progressbar",
      "aria-valuenow": "20",
      "aria-valuemin": "0",
      "aria-valuemax": "100",
      style: {
        width: "".concat(currentCourse.fourStar !== 0 ? currentCourse.fourStar / currentCourse.totalRatingCount * 100 : 0, "%")
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      className: "progress-percentage"
    }, currentCourse.fourStar || 0), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "clearfix"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "prgress_cover"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      className: "progress-label"
    }, "Average"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "progress"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "progress-bar progress-bar-info",
      role: "progressbar",
      "aria-valuenow": "20",
      "aria-valuemin": "0",
      "aria-valuemax": "100",
      style: {
        width: "".concat(currentCourse.threeStar !== 0 ? currentCourse.threeStar / currentCourse.totalRatingCount * 100 : 0, "%")
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      className: "progress-percentage"
    }, currentCourse.threeStar || 0), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "clearfix"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "prgress_cover"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      className: "progress-label"
    }, "Poor"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "progress"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "progress-bar progress-bar-info",
      role: "progressbar",
      "aria-valuenow": "20",
      "aria-valuemin": "0",
      "aria-valuemax": "100",
      style: {
        width: "".concat(currentCourse.twoStar !== 0 ? currentCourse.twoStar / currentCourse.totalRatingCount * 100 : 0, "%")
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      className: "progress-percentage"
    }, currentCourse.twoStar || 0), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "clearfix"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "prgress_cover"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      className: "progress-label"
    }, "Terrible"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "progress"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "progress-bar progress-bar-info",
      role: "progressbar",
      "aria-valuenow": "20",
      "aria-valuemin": "0",
      "aria-valuemax": "100",
      style: {
        width: "".concat(currentCourse.oneStar !== 0 ? currentCourse.oneStar / currentCourse.totalRatingCount * 100 : 0, "%")
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      className: "progress-percentage"
    }, currentCourse.oneStar || 0), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "clearfix"
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "col-lg-4 col-md-4 col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "square"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "content"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "circle w-100 h-100"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "circle-body"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, currentCourse.rating), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_rating_stars_component__WEBPACK_IMPORTED_MODULE_5___default.a, {
      count: 5,
      value: currentCourse.rating || 0,
      edit: false,
      size: 16,
      isHalf: true,
      emptySymbol: "fa fa-star-o",
      fullSymbol: "fa fa-star",
      emptyIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
        className: "far fa-star"
      }),
      halfIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
        className: "fa fa-star-half-alt"
      }),
      filledIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
        className: "fa fa-star"
      }),
      activeColor: "#f16101",
      fractions: 2
    }), currentCourse.totalRatingCount, " reviews")))))))), reviews.map(function (rev, revIndex) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "posted_reviews",
        key: "".concat(rev._id, "-").concat(revIndex)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "col-12"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "card"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "card-body position-relative"
      }, user && user.role === "ADMIN" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "btn btn-danger",
        onClick: function onClick() {
          deleteCourseReview(rev._id, revIndex);
        },
        style: {
          position: "absolute",
          right: "5px",
          top: "5px"
        }
      }, "delete"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "left_block"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        src: rev.user.image,
        alt: "",
        className: "img-fluid"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "right_block"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h5", null, rev.user.firstName + " " + rev.user.lastName), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, moment__WEBPACK_IMPORTED_MODULE_17___default()(rev.createdAt).format("D MMMM, YYYY"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "star"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_rating_stars_component__WEBPACK_IMPORTED_MODULE_5___default.a, {
        count: 5,
        value: rev.rating || 0,
        edit: false,
        size: 16,
        isHalf: true,
        emptySymbol: "fa fa-star-o",
        fullSymbol: "fa fa-star",
        emptyIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
          className: "far fa-star"
        }),
        halfIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
          className: "fa fa-star-half-alt"
        }),
        filledIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
          className: "fa fa-star"
        }),
        activeColor: "#f16101",
        fractions: 2
      })))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, rev.message));
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "add_review"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_14__["Formik"], {
      initialValues: {
        rating: 0,
        name: "",
        email: "",
        message: ""
      },
      validationSchema: yup__WEBPACK_IMPORTED_MODULE_15__["object"]({
        name: yup__WEBPACK_IMPORTED_MODULE_15__["string"]().required("First Name is required"),
        email: yup__WEBPACK_IMPORTED_MODULE_15__["string"]().email("Email is not valid.").required("Email is required."),
        message: yup__WEBPACK_IMPORTED_MODULE_15__["string"]().required("Message is required."),
        rating: yup__WEBPACK_IMPORTED_MODULE_15__["number"]().min(1, "Give a rating.").required("Rating is required.")
      }),
      onSubmit: function onSubmit(values) {
        dispatch(Object(_store_api_courses__WEBPACK_IMPORTED_MODULE_7__["addCourseReview"])({
          id: currentCourse._id,
          body: values,
          onSuccess: function onSuccess(res) {
            for (var key in res.data.data.course) {
              currentCourse[key] = res.data.data.course[key];
            }

            var courseReview = res.data.data.courseReview;
            setReviews([courseReview].concat(_toConsumableArray(reviews.filter(function (r) {
              return r.user._id !== courseReview.user._id;
            }))));
            setCurrentCourse(_objectSpread({}, currentCourse));
            alert("Review Added");
          }
        }));
      }
    }, function (_ref) {
      var values = _ref.values,
          errors = _ref.errors,
          touched = _ref.touched,
          setFieldValue = _ref.setFieldValue;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_14__["Form"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "Leave a Comment"), "Add a review", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_rating_stars_component__WEBPACK_IMPORTED_MODULE_5___default.a, {
        count: 5,
        value: values.rating,
        size: 16,
        emptySymbol: "fa fa-star-o",
        fullSymbol: "fa fa-star",
        emptyIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
          className: "far fa-star"
        }),
        halfIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
          className: "fa fa-star-half-alt"
        }),
        filledIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
          className: "fa fa-star"
        }),
        activeColor: "#f16101",
        fractions: 1,
        onChange: function onChange(r) {
          setFieldValue("rating", r);
        }
      }), values.rating && touched.rating ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        style: {
          color: "red",
          fontSize: "13px"
        }
      }, errors.rating) : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "contact_form text-left"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "form_contact  text-left"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "col-lg-6 col-md-6 col-12"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_14__["Field"], {
        type: "text",
        name: "name",
        className: "form-control",
        placeholder: "Name *"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_14__["ErrorMessage"], {
        name: "name",
        component: _shared_TextError__WEBPACK_IMPORTED_MODULE_16__["default"]
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "col-lg-6 col-md-6 col-12"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_14__["Field"], {
        type: "email",
        name: "email",
        className: "form-control",
        placeholder: "Email *"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_14__["ErrorMessage"], {
        name: "email",
        component: _shared_TextError__WEBPACK_IMPORTED_MODULE_16__["default"]
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "col-12"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "form-group mb-3"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("textarea", {
        className: "form-control",
        rows: "7",
        placeholder: "Write Message",
        name: "message",
        onChange: function onChange(e) {
          var value = e.target.value;
          setFieldValue("message", value);
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_14__["ErrorMessage"], {
        name: "message",
        component: _shared_TextError__WEBPACK_IMPORTED_MODULE_16__["default"]
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "submit",
        className: "btn more",
        value: "Leave a Review"
      })))));
    })));
  };

  var renderForum = function renderForum() {
    return currentCourse.slug && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Course_ForumThreads__WEBPACK_IMPORTED_MODULE_19__["default"], {
      courseId: currentCourse._id
    });
  };

  var renderCourseDetails = function renderCourseDetails() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "col-lg-3 col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "course_price_table"
    }, !currentCourse.isEnrolled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "card"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "card-body"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "Course price"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h4", null, "Rs. ", Object(_helpers_priceFormater__WEBPACK_IMPORTED_MODULE_18__["formatPrice"])(currentCourse.price)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      className: "btn more",
      onClick: function onClick(e) {
        e.stopPropagation(); //prevents click event to propagate to accordian.

        var tkn = _services_storage__WEBPACK_IMPORTED_MODULE_24__["default"].get("xAuthToken");

        if (!tkn) {
          dispatch(Object(_store_ui_loginModal__WEBPACK_IMPORTED_MODULE_12__["setLoginModalVisibility"])(true));
          dispatch(Object(_store_ui_loginModal__WEBPACK_IMPORTED_MODULE_12__["setLoginModalClosable"])(false));
          dispatch(Object(_store_ui_registerModal__WEBPACK_IMPORTED_MODULE_13__["setRegisterModalClosable"])(false));
          return;
        }

        dispatch(Object(_store_api_cart__WEBPACK_IMPORTED_MODULE_8__["addItemToCartApi"])({
          body: {
            course: currentCourse._id,
            chapters: currentCourse.chapters.map(function (chap) {
              return chap._id;
            }),
            completeCourse: true
          }
        }));
        props.history.push("/cart");
      }
    }, "Buy 1 Year Access"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
      className: "list-group"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
      className: "list-group-item"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
      className: "fas fa-clock"
    }), " Duration:", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, currentCourse.duration)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
      className: "list-group-item"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
      className: "fas fa-folder"
    }), " Units:", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, currentCourse.lectures)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
      className: "list-group-item"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
      className: "fas fa-play"
    }), " Videos:", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, currentCourse.videoDuration)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
      className: "list-group-item"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
      className: "fas fa-globe-americas"
    }), " Language:", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, " ", currentCourse.language.name)))));
  };

  var renderFeedbackModal = function renderFeedbackModal() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__["Modal"], {
      show: feedbackModalVisibility,
      onHide: function onHide() {
        return setFeedbackModalVisibility(false);
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__["Modal"].Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "add_review p-4"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      onClick: function onClick() {
        return setFeedbackModalVisibility(false);
      },
      className: "position-absolute",
      style: {
        top: 10,
        right: 15
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
      className: "fas fa-times"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_14__["Formik"], {
      initialValues: {
        rating: 0,
        name: "",
        email: "",
        message: ""
      },
      validationSchema: yup__WEBPACK_IMPORTED_MODULE_15__["object"]({
        name: yup__WEBPACK_IMPORTED_MODULE_15__["string"]().required("First Name is required"),
        email: yup__WEBPACK_IMPORTED_MODULE_15__["string"]().email("Email is not valid.").required("Email is required."),
        message: yup__WEBPACK_IMPORTED_MODULE_15__["string"]().required("Message is required."),
        rating: yup__WEBPACK_IMPORTED_MODULE_15__["number"]().min(1, "Give a rating.").required("Rating is required.")
      }),
      onSubmit: function onSubmit(values) {
        dispatch(Object(_store_api_courseFeedbacks__WEBPACK_IMPORTED_MODULE_9__["addCourseFeedback"])({
          id: currentCourse._id,
          body: values,
          onSuccess: function onSuccess() {
            setFeedbackModalVisibility(false);
          }
        }));
      }
    }, function (_ref2) {
      var values = _ref2.values,
          errors = _ref2.errors,
          touched = _ref2.touched,
          setFieldValue = _ref2.setFieldValue;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_14__["Form"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
        className: "mb-4"
      }, "Hey, how is your experience so far? Please take a few seconds to rate this course!"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "contact_form text-left py-0"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "form_contact  text-left"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "col-12 mb-2"
      }, "Rating", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_rating_stars_component__WEBPACK_IMPORTED_MODULE_5___default.a, {
        count: 5,
        value: values.rating,
        size: 16,
        emptySymbol: "fa fa-star-o",
        fullSymbol: "fa fa-star",
        emptyIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
          className: "far fa-star"
        }),
        halfIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
          className: "fa fa-star-half-alt"
        }),
        filledIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
          className: "fa fa-star"
        }),
        activeColor: "#f16101",
        fractions: 1,
        onChange: function onChange(r) {
          setFieldValue("rating", r);
        }
      }), errors.rating && touched.rating ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        style: {
          color: "red",
          fontSize: "13px"
        }
      }, errors.rating) : null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "col-lg-6 col-md-6 col-12"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_14__["Field"], {
        type: "text",
        name: "name",
        className: "form-control",
        placeholder: "Name *"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_14__["ErrorMessage"], {
        name: "name",
        component: _shared_TextError__WEBPACK_IMPORTED_MODULE_16__["default"]
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "col-lg-6 col-md-6 col-12"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_14__["Field"], {
        type: "email",
        name: "email",
        className: "form-control",
        placeholder: "Email *"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_14__["ErrorMessage"], {
        name: "email",
        component: _shared_TextError__WEBPACK_IMPORTED_MODULE_16__["default"]
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "col-12"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "form-group mb-3"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("textarea", {
        className: "form-control",
        rows: "7",
        placeholder: "Write Message",
        name: "message",
        onChange: function onChange(e) {
          var value = e.target.value;
          setFieldValue("message", value);
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_14__["ErrorMessage"], {
        name: "message",
        component: _shared_TextError__WEBPACK_IMPORTED_MODULE_16__["default"]
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "submit",
        className: "btn more",
        value: "Submit"
      })))));
    }))));
  };

  var str = currentCourse.traits + "";
  var courseTraits = new Array();
  courseTraits = str.split(",").filter(function (t) {
    return t.trim();
  });
  courseTraits = courseTraits;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_helmet__WEBPACK_IMPORTED_MODULE_23__["Helmet"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
    property: "og:title",
    content: courseData.metaTitle
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
    name: "description",
    property: "og:description",
    content: courseData.metaDescription
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
    name: "keywords",
    content: courseData.metaKeyWords
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
    property: "og:image",
    content: courseData.image
  })), renderHeaders(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
    className: "courses_detail"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "container"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "sources"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "col-lg-12 col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "course_info"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "col-lg-6 col-md-8 col-12"
  }, currentCourse.teachers[0] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "author"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "img",
    style: {
      backgroundImage: "url(\"".concat(currentCourse.teachers[0].image, "\")")
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
    className: "m-0"
  }, "By", " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "".concat(currentCourse.teachers[0].firstName, " ").concat(currentCourse.teachers[0].lastName)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h5", {
    className: "course_name"
  }, currentCourse.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "rating clearfix"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "tag float-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "#"
  }, currentCourse.category.name))))))), !lessonId && renderCourseImageSlider(), lessonId && currentCourse._id && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Course_LessonCard__WEBPACK_IMPORTED_MODULE_10__["default"], {
    lessonId: lessonId,
    courseId: currentCourse._id,
    moveToPrevLesson: moveToPrevLesson,
    moveToNextLesson: moveToNextLesson,
    setWatched: function setWatched(watcheObj) {
      var courseId = watcheObj.courseId,
          lessonId = watcheObj.lessonId;
      currentCourse.watchedVideos = [{
        course: courseId,
        lesson: lessonId
      }].concat(_toConsumableArray(currentCourse.watchedVideos));
      setCurrentCourse(_objectSpread({}, currentCourse));
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    style: {
      marginTop: "20px",
      marginBottom: "40px"
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "col-md-8"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "This Course Includes")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "col-md-4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
    to: "/subscription",
    className: "btn more ml-1 ml-md-4 yellow-btn",
    style: {
      width: "auto",
      maxWidth: "186px"
    }
  }, "How To Buy"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "row",
    style: {
      maxWidth: "600px"
    }
  }, courseTraits.length > 0 && courseTraits.map(function (data, key) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "col-sm-6"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
      src: _assets_img_tick_png__WEBPACK_IMPORTED_MODULE_6__["default"],
      style: {
        height: "22px",
        width: "21px",
        marginRight: "1rem"
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", null, data));
  }))), renderDetailTabs(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "tab-content",
    id: "CoursesTabContent"
  }, detailTab === "Overview" && renderOverViewTabContent(), detailTab === "Videos" && renderVideos(), detailTab === "Instructor" && renderInstructors(), detailTab === "Reviews" && renderReviews(), detailTab === "Forum" && renderForum()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null)))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    style: {
      backgroundColor: "#fffcf4"
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "container p-5"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
    className: "text-center font-weight-bold mb-5"
  }, "What Our Students Have To Say"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Testimonials, {
    courseId: currentCourse._id
  }))), renderFeedbackModal());
};

CoursePage.loadData = function (_ref3) {
  var store = _ref3.store,
      matchedRoute = _ref3.matchedRoute;
  var dispatch = store.dispatch;
  return new Promise( /*#__PURE__*/function () {
    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {
      var params, courseId, lessonId, res;
      return regeneratorRuntime.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.prev = 0;
              params = matchedRoute.match.params;
              courseId = params.courseId, lessonId = params.lessonId;

              if (!lessonId) {
                _context.next = 9;
                break;
              }

              _context.next = 6;
              return _services_http__WEBPACK_IMPORTED_MODULE_21__["default"].get({
                url: "/lessons/full_lesson_detail/" + lessonId
              });

            case 6:
              res = _context.sent;
              _context.next = 12;
              break;

            case 9:
              _context.next = 11;
              return _services_http__WEBPACK_IMPORTED_MODULE_21__["default"].get({
                url: "/courses/full_course_detail/" + courseId
              });

            case 11:
              res = _context.sent;

            case 12:
              dispatch(Object(_store_ui_coursePage__WEBPACK_IMPORTED_MODULE_22__["setCoursePageData"])(res.data.data));
              resolve();
              _context.next = 19;
              break;

            case 16:
              _context.prev = 16;
              _context.t0 = _context["catch"](0);
              reject(_context.t0);

            case 19:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[0, 16]]);
    }));

    return function (_x, _x2) {
      return _ref4.apply(this, arguments);
    };
  }());
};

/* harmony default export */ __webpack_exports__["default"] = (CoursePage);

/***/ }),

/***/ "./client/store/api/courseFeedbacks.js":
/*!*********************************************!*\
  !*** ./client/store/api/courseFeedbacks.js ***!
  \*********************************************/
/*! exports provided: addCourseFeedback */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addCourseFeedback", function() { return addCourseFeedback; });
/* harmony import */ var _services_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../services/http */ "./client/services/http.js");
/* harmony import */ var _helpers_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../helpers/error */ "./client/helpers/error.js");
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }


 //http path

var path = "/course_feedbacks";
var addCourseFeedback = function addCourseFeedback() {
  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      _ref$id = _ref.id,
      id = _ref$id === void 0 ? "" : _ref$id,
      body = _ref.body,
      onSuccess = _ref.onSuccess,
      onError = _ref.onError,
      onEnd = _ref.onEnd;

  return /*#__PURE__*/function () {
    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(dispatch, getState) {
      var store, entities, auth, loading, res;
      return regeneratorRuntime.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.prev = 0;
              store = getState();
              entities = store.entities, auth = store.auth;
              loading = entities.courses.loading;

              if (!loading) {
                _context.next = 6;
                break;
              }

              return _context.abrupt("return");

            case 6:
              _context.next = 8;
              return _services_http__WEBPACK_IMPORTED_MODULE_0__["default"].post({
                url: path + "/give_feedback/" + id,
                body: body,
                headers: {
                  "x-auth-token": auth.token
                }
              });

            case 8:
              res = _context.sent;
              //onSuccess event firing
              if (onSuccess) onSuccess(res);
              _context.next = 15;
              break;

            case 12:
              _context.prev = 12;
              _context.t0 = _context["catch"](0);
              //onError event firing
              if (onError) onError(_context.t0);else Object(_helpers_error__WEBPACK_IMPORTED_MODULE_1__["handleErrors"])(_context.t0);

            case 15:
              _context.prev = 15;
              if (onEnd) onEnd();
              return _context.finish(15);

            case 18:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[0, 12, 15, 18]]);
    }));

    return function (_x, _x2) {
      return _ref2.apply(this, arguments);
    };
  }();
};

/***/ }),

/***/ "./client/store/api/lessons.js":
/*!*************************************!*\
  !*** ./client/store/api/lessons.js ***!
  \*************************************/
/*! exports provided: getLesson, markVideoWatched */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLesson", function() { return getLesson; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "markVideoWatched", function() { return markVideoWatched; });
/* harmony import */ var _services_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../services/http */ "./client/services/http.js");
/* harmony import */ var _helpers_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../helpers/error */ "./client/helpers/error.js");
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }



var path = "/lessons";
var getLesson = function getLesson() {
  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      _ref$id = _ref.id,
      id = _ref$id === void 0 ? "" : _ref$id,
      onSuccess = _ref.onSuccess,
      onError = _ref.onError,
      onEnd = _ref.onEnd;

  return /*#__PURE__*/function () {
    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(dispatch, getState) {
      var storeState, token, res;
      return regeneratorRuntime.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.prev = 0;
              storeState = getState();
              token = storeState.auth.token;

              if (id) {
                _context.next = 5;
                break;
              }

              throw new Error("id is required.");

            case 5:
              _context.next = 7;
              return _services_http__WEBPACK_IMPORTED_MODULE_0__["default"].get({
                url: path + "/full_lesson_detail/" + id,
                headers: {
                  "x-auth-token": token
                }
              });

            case 7:
              res = _context.sent;
              console.log("fuulll lessons", res.data); //onSuccess event firing

              if (onSuccess) onSuccess(res);
              _context.next = 15;
              break;

            case 12:
              _context.prev = 12;
              _context.t0 = _context["catch"](0);
              //onError event firing
              if (onError) onError(_context.t0);else Object(_helpers_error__WEBPACK_IMPORTED_MODULE_1__["handleErrors"])(_context.t0);

            case 15:
              _context.prev = 15;
              if (onEnd) onEnd();
              return _context.finish(15);

            case 18:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[0, 12, 15, 18]]);
    }));

    return function (_x, _x2) {
      return _ref2.apply(this, arguments);
    };
  }();
};
var markVideoWatched = function markVideoWatched() {
  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      body = _ref3.body,
      onSuccess = _ref3.onSuccess,
      onError = _ref3.onError,
      onEnd = _ref3.onEnd;

  return /*#__PURE__*/function () {
    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(dispatch, getState) {
      var storeState, token, res;
      return regeneratorRuntime.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              _context2.prev = 0;
              storeState = getState();
              token = storeState.auth.token;
              _context2.next = 5;
              return _services_http__WEBPACK_IMPORTED_MODULE_0__["default"].post({
                url: path + "/mark_video_as_watched/",
                body: body,
                headers: {
                  "x-auth-token": token
                }
              });

            case 5:
              res = _context2.sent;
              //onSuccess event firing
              if (onSuccess) onSuccess(res);
              _context2.next = 12;
              break;

            case 9:
              _context2.prev = 9;
              _context2.t0 = _context2["catch"](0);
              //onError event firing
              if (onError) onError(_context2.t0);else Object(_helpers_error__WEBPACK_IMPORTED_MODULE_1__["handleErrors"])(_context2.t0);

            case 12:
              _context2.prev = 12;
              if (onEnd) onEnd();
              return _context2.finish(12);

            case 15:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2, null, [[0, 9, 12, 15]]);
    }));

    return function (_x3, _x4) {
      return _ref4.apply(this, arguments);
    };
  }();
};

/***/ })

}]);
//# sourceMappingURL=pages-CoursePage.a243ab67d79b1a4741d8.js.map