{"version":3,"sources":["webpack:///./client/components/modals/SubscriptionModal.js","webpack:///./client/helpers/priceFormater.js"],"names":["SubscriptionModal","history","useHistory","useState","modalStep","setModalStep","selectedCourses","setSelectedCourses","selectedPricePlan","setSelectedPricePlan","dispatch","useDispatch","subscriptionPlans","useSelector","state","entities","subscriptionModal","ui","subscriptionPageCMS","subscriptionPage","data","courses","list","categories","closeModal","setSubscriptionModal","visible","selectedCategory","find","c","_id","category","plansForThisCategory","filter","sp","filteredCourses","React","useMemo","MAX_COURSE_SELECTION","plan","numberOfCourses","useEffect","pricePlans","renderCoursesList","map","checked","includes","length","e","target","push","sc","name","renderSelectedCoursesList","selectedCoursesList","coursesSelectedHeading","renderPricePlans","pPlan","preventDefault","textDecoration","accessText","renderHTML","trim","price","formatPrice","saleText","bottomAccessText","renderStep1","thisCatPlan","isPlanSelected","border","borderRadius","padding","color","background","fontWeight","margin","marginTop","toUpperCase","chooseText","renderStep2","topHeading","priceLabel","confirmation","subPer","numberOfDays","bottomHeading","body","subscriptionType","bundlePrice","addBundleToCartApi","onSuccess","res","onError","err","alert","onEnd","console","log","numberWithCommas","x","parts","toString","split","replace","join"],"mappings":"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","file":"components-modals-SubscriptionModal.9c0c9602de6d65c382d9.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { Modal } from \"react-bootstrap\";\nimport renderHTML from \"react-render-html\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setSubscriptionModal } from \"../../store/ui/subscriptionModal\";\n\nimport { addBundleToCartApi } from \"../../store/api/cart\";\n\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\n\nimport { formatPrice } from \"../../helpers/priceFormater\";\n\nconst SubscriptionModal = () => {\n  const history = useHistory();\n  const [modalStep, setModalStep] = useState(1);\n  const [selectedCourses, setSelectedCourses] = useState([]);\n  const [selectedPricePlan, setSelectedPricePlan] = useState({});\n\n  const dispatch = useDispatch();\n  const subscriptionPlans = useSelector(\n    (state) => state.entities.subscriptionPlans\n  );\n  const subscriptionModal = useSelector((state) => state.ui.subscriptionModal);\n  const subscriptionPageCMS = useSelector(\n    (state) => state.ui.subscriptionPage.data\n  );\n\n  const courses = useSelector((state) => state.entities.courses.list);\n  const categories = useSelector((state) => state.entities.categories.list);\n\n  const closeModal = () => {\n    dispatch(setSubscriptionModal({ visible: false }));\n  };\n\n  const selectedCategory = categories.find(\n    (c) => c._id === subscriptionModal.category\n  );\n\n  const plansForThisCategory = subscriptionPlans.list.filter(\n    (sp) => sp.category._id === subscriptionModal.category\n  );\n  const filteredCourses = React.useMemo(() => {\n    const { category } = subscriptionModal;\n    return courses.filter((c) => c.category._id === category);\n  }, [categories, courses, subscriptionModal.category]);\n\n  let MAX_COURSE_SELECTION = subscriptionModal.plan.numberOfCourses;\n\n  useEffect(() => {\n    setModalStep(1);\n  }, [subscriptionModal.visible]);\n\n  useEffect(() => {\n    setSelectedCourses([]);\n    if (\n      subscriptionModal.plan &&\n      subscriptionModal.plan.pricePlans &&\n      subscriptionModal.plan.pricePlans[0]\n    ) {\n      setSelectedPricePlan(subscriptionModal.plan.pricePlans[0]);\n    }\n  }, [subscriptionModal.plan]);\n\n  const renderCoursesList = () => {\n    return (\n      <div className=\"courses-check-list my-3\">\n        <div className=\"row\">\n          {filteredCourses.map((c) => {\n            const checked = selectedCourses.includes(c._id);\n            return (\n              <div className=\"col-12 col-md-6\" key={c._id}>\n                <div className=\"mr-5 mr-md-0\">\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        checked={checked}\n                        color=\"primary\"\n                        disabled={\n                          !checked &&\n                          selectedCourses.length >= MAX_COURSE_SELECTION\n                        }\n                        onChange={(e) => {\n                          if (e.target.checked) {\n                            selectedCourses.push(c._id);\n                            setSelectedCourses([...selectedCourses]);\n                          } else {\n                            setSelectedCourses(\n                              selectedCourses.filter((sc) => sc !== c._id)\n                            );\n                          }\n                        }}\n                      />\n                    }\n                    label={c.name}\n                  />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  const renderSelectedCoursesList = () => {\n    const selectedCoursesList = filteredCourses.filter((c) =>\n      selectedCourses.includes(c._id)\n    );\n    return (\n      <div className=\"courses-check-list mb-3\">\n        <h4 className=\"font-weight-bold mt-4\">\n          {subscriptionPageCMS.coursesSelectedHeading}\n        </h4>\n        <div className=\"row\">\n          {selectedCoursesList.map((sc) => {\n            return (\n              <div className=\"col-12 mr-5 mr-md-0\" key={sc._id}>\n                <FormControlLabel\n                  control={<Checkbox checked={true} color=\"primary\" />}\n                  label={sc.name}\n                />\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  const renderPricePlans = () => {\n    if (!subscriptionModal.plan || !subscriptionModal.plan.pricePlans)\n      return null;\n\n    return (\n      <div className=\"sub-modal-wrapper px-4\">\n        <div className=\"row justify-content-center\">\n          {subscriptionModal.plan.pricePlans.map((pPlan) => {\n            return (\n              <div className=\"col-sm-4\" key={pPlan._id}>\n                <a\n                  href=\"#\"\n                  onClick={(e) => {\n                    e.preventDefault();\n                    setSelectedPricePlan(pPlan);\n                  }}\n                  style={{ textDecoration: \"none\" }}\n                  className=\"text-dark\"\n                >\n                  <div\n                    className={`plan-btn ${\n                      pPlan._id === selectedPricePlan._id && \"active\"\n                    }`}\n                  >\n                    <span className=\"text-center mb-1\">\n                      {pPlan.accessText && renderHTML(pPlan.accessText.trim())}\n                    </span>\n                    <h4 className=\"text-center mb-1 font-weight-bold\">\n                      Rs. {pPlan.price && formatPrice(pPlan.price)}\n                    </h4>\n                    <span className=\"text-center mb-0 text-danger\">\n                      {pPlan.saleText && renderHTML(pPlan.saleText.trim())}\n                    </span>\n                  </div>\n                </a>\n              </div>\n            );\n          })}\n        </div>\n\n        <p className=\"text-center my-3\">\n          {selectedPricePlan.bottomAccessText &&\n            renderHTML(selectedPricePlan.bottomAccessText)}\n        </p>\n      </div>\n    );\n  };\n\n  const renderStep1 = () => {\n    return (\n      <>\n        <div className=\"sub-modal-wrapper px-4\">\n          <div className=\"row justify-content-center py-4\">\n            {plansForThisCategory.map((thisCatPlan) => {\n              const isPlanSelected =\n                subscriptionModal.plan._id === thisCatPlan._id;\n              return (\n                <div className=\"d-flex justify-content-center col-4\">\n                  <a\n                    href=\"#\"\n                    style={{\n                      border: \"2px solid #00acf0\",\n                      borderRadius: \"5px\",\n                      padding: \"10px 20px\",\n                      color: isPlanSelected ? \"#ffffff\" : \"#00acf0\",\n                      background: isPlanSelected ? \"#00acf0\" : \"#ffffff\",\n                      textDecoration: \"none\",\n                      fontWeight: \"bold\",\n                      margin: \"auto\",\n                      marginTop: \"10px\",\n                    }}\n                    onClick={(e) => {\n                      e.preventDefault();\n                      dispatch(setSubscriptionModal({ plan: thisCatPlan }));\n                    }}\n                  >\n                    {/* <img src={thisCatPlan.smallImage} className=\"w-100\" /> */}\n                    {thisCatPlan.name && thisCatPlan.name.toUpperCase()} PLAN\n                  </a>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n\n        <div className=\"container\">\n          <div className=\"text-center\">\n            {subscriptionModal.plan.chooseText ? (\n              renderHTML(subscriptionModal.plan.chooseText)\n            ) : (\n              <h2 className=\"text-center pt-4\">\n                You can choose{\" \"}\n                <span className=\"text-main\">ANY {MAX_COURSE_SELECTION}</span>\n                {\" \" + selectedCategory?.name + \" \"}\n                Courses\n              </h2>\n            )}\n          </div>\n          {renderCoursesList()}\n        </div>\n\n        {renderPricePlans()}\n        <div className=\"d-flex justify-content-center\">\n          <button\n            href=\"#\"\n            className=\"next-btn\"\n            disabled={selectedCourses.length !== MAX_COURSE_SELECTION}\n            onClick={(e) => {\n              e.preventDefault();\n              setModalStep(2);\n            }}\n          >\n            Next\n          </button>\n        </div>\n      </>\n    );\n  };\n\n  const renderStep2 = () => {\n    return (\n      <div>\n        <h1 className=\"text-center mt-3\">{subscriptionPageCMS.topHeading}</h1>\n\n        <div className=\"sub-modal-wrapper\">\n          <div className=\"row\">\n            <div className=\"col-md-6\">{renderSelectedCoursesList()}</div>\n            <div className=\"col-md-6\">\n              <h4 className=\"font-weight-bold mt-4\">\n                {subscriptionModal.plan &&\n                  subscriptionModal.plan.name.toUpperCase()}{\" \"}\n                PLAN\n              </h4>\n              <div className=\"sub-details px-4 pt-3 pb-2 mb-4 \">\n                <p className=\"text-lg\">\n                  {subscriptionPageCMS.priceLabel}{\" \"}\n                  {selectedPricePlan && formatPrice(selectedPricePlan.price)}{\" \"}\n                </p>\n                <h5>{subscriptionPageCMS.confirmation}</h5>\n\n                <p className=\"mt-4\">{subscriptionPageCMS.subPer}</p>\n                <h5>\n                  {selectedPricePlan && selectedPricePlan.numberOfDays} Days\n                  from payment.\n                </h5>\n              </div>\n            </div>\n          </div>\n\n          <h4 className=\"font-weight-bold mt-4 text-center\">\n            {subscriptionPageCMS.bottomHeading}\n          </h4>\n\n          <div className=\"d-flex justify-content-center mt-5\">\n            <button\n              href=\"#\"\n              className=\"next-btn\"\n              onClick={(e) => {\n                e.preventDefault();\n                const body = {\n                  courses: selectedCourses,\n                  subscriptionType: subscriptionModal.subscriptionType,\n                  bundlePrice: selectedPricePlan.price,\n                  numberOfDays: selectedPricePlan.numberOfDays,\n                };\n                dispatch(\n                  addBundleToCartApi({\n                    body,\n                    onSuccess: (res) => {\n                      closeModal();\n                      history.push(\"/cart\");\n                    },\n                    onError: (err) => {\n                      alert(\"Something went wrong\");\n                    },\n                    onEnd: () => {\n                      console.log(\"On End\");\n                    },\n                  })\n                );\n              }}\n            >\n              Confirm\n            </button>\n            <button\n              href=\"#\"\n              className=\"sub-back-btn ml-4\"\n              onClick={(e) => {\n                e.preventDefault();\n                setModalStep(1);\n              }}\n            >\n              Back\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <Modal show={subscriptionModal.visible} onHide={closeModal}>\n      <a\n        href=\"#\"\n        className=\"text-dark\"\n        onClick={(e) => {\n          e.preventDefault();\n          closeModal();\n        }}\n        className=\"modal-close-btn\"\n      >\n        <i className=\"fas fa-times\"></i>\n      </a>\n      <div className=\"container\">\n        {modalStep === 1 ? renderStep1() : renderStep2()}\n      </div>\n    </Modal>\n  );\n};\n\nexport default SubscriptionModal;\n","export const formatPrice = (price) => {\r\n  return numberWithCommas(price);\r\n};\r\n\r\nfunction numberWithCommas(x = \"\") {\r\n  var parts = x.toString().split(\".\");\r\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  return parts.join(\".\");\r\n}\r\n"],"sourceRoot":""}